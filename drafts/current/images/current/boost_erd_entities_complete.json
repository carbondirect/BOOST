{
  "metadata": {
    "title": "BOOST Data Standard - Complete Entity Relationship Model",
    "version": "2.0.0",
    "description": "Comprehensive biomass chain of custody data model with 20 core entities",
    "created": "2025-01-22",
    "framework": "Kaulen Framework Integration"
  },
  "thematic_areas": {
    "core_traceability": {
      "name": "Core Traceability",
      "description": "Central entities for biomass unit tracking and processing",
      "color": "#059669",
      "entities": ["TraceableUnit", "MaterialProcessing", "ProcessingHistory", "TrackingPoint", "LocationHistory"]
    },
    "commercial_transactions": {
      "name": "Commercial Transactions", 
      "description": "Business transactions and batch management",
      "color": "#d97706",
      "entities": ["Transaction", "TransactionBatch", "DataReconciliation"]
    },
    "organizational": {
      "name": "Organizational",
      "description": "Business entities and personnel in supply chain",
      "color": "#2563eb", 
      "entities": ["Organization", "Operator"]
    },
    "certification_claims": {
      "name": "Certification & Claims",
      "description": "Sustainability certification and claims tracking",
      "color": "#7c3aed",
      "entities": ["Claim", "Certificate", "CertificationBody", "CertificationScheme"]
    },
    "material_specification": {
      "name": "Material Specification",
      "description": "Material types, species, and product classifications",
      "color": "#57534e",
      "entities": ["Material", "SpeciesComponent", "ProductGroup", "MoistureContent"]
    },
    "geographic_spatial": {
      "name": "Geographic & Spatial",
      "description": "Location data and spatial information",
      "color": "#9333ea",
      "entities": ["GeographicData"]
    },
    "measurement_quality": {
      "name": "Measurement & Quality", 
      "description": "Quality metrics, measurements, and biometric data",
      "color": "#dc2626",
      "entities": ["MeasurementRecord", "BiometricIdentifier"]
    }
  },
  "entities": [
    {
      "id": "TraceableUnit",
      "name": "TraceableUnit", 
      "area": "core_traceability",
      "description": "Central entity for biomass tracking with Kaulen framework integration and moisture content tracking",
      "fields": [
        { "name": "traceableUnitId", "type": "string", "isPK": true, "required": true },
        { "name": "unitType", "type": "enum", "required": true, "values": ["individual_log", "pile", "volume_aggregation", "processed_batch"] },
        { "name": "uniqueIdentifier", "type": "string", "required": true },
        { "name": "totalVolumeM3", "type": "number", "required": true },
        { "name": "currentMoistureContent", "type": "number", "description": "Current moisture percentage" },
        { "name": "assortmentType", "type": "enum", "values": ["sawlog", "pulpwood", "biomass", "chips"] },
        { "name": "qualityGrade", "type": "enum", "values": ["A", "B", "C", "structural", "fuel"] },
        { "name": "currentStatus", "type": "enum", "values": ["active", "processed", "delivered", "consumed"] },
        { "name": "isMultiSpecies", "type": "boolean" },
        { "name": "createdTimestamp", "type": "datetime", "required": true },
        { "name": "currentGeographicDataId", "type": "string", "isFK": true },
        { "name": "harvestGeographicDataId", "type": "string", "isFK": true },
        { "name": "operatorId", "type": "string", "isFK": true },
        { "name": "materialTypeId", "type": "string", "isFK": true, "required": true },
        { "name": "parentTraceableUnitId", "type": "string", "isFK": true, "description": "For splits/merges" }
      ]
    },
    {
      "id": "MaterialProcessing",
      "name": "MaterialProcessing",
      "area": "core_traceability", 
      "description": "Processing operations that transform TRUs with plant part tracking",
      "fields": [
        { "name": "processingId", "type": "string", "isPK": true, "required": true },
        { "name": "inputTraceableUnitId", "type": "string", "isFK": true, "required": true },
        { "name": "outputTraceableUnitId", "type": "string", "isFK": true },
        { "name": "processType", "type": "enum", "required": true, "values": ["debarking", "chipping", "splitting", "drying", "sorting"] },
        { "name": "processTimestamp", "type": "datetime", "required": true },
        { "name": "operatorId", "type": "string", "isFK": true },
        { "name": "equipmentUsed", "type": "string" },
        { "name": "inputVolume", "type": "number" },
        { "name": "outputVolume", "type": "number" },
        { "name": "inputMoistureContent", "type": "number" },
        { "name": "outputMoistureContent", "type": "number" },
        { "name": "processingEfficiency", "type": "number", "description": "Output/Input ratio" }
      ]
    },
    {
      "id": "ProcessingHistory", 
      "name": "ProcessingHistory",
      "area": "core_traceability",
      "description": "Complete timeline of processing events with moisture tracking",
      "fields": [
        { "name": "processingHistoryId", "type": "string", "isPK": true, "required": true },
        { "name": "traceableUnitId", "type": "string", "isFK": true, "required": true },
        { "name": "materialProcessingId", "type": "string", "isFK": true },
        { "name": "processSequenceNumber", "type": "integer" },
        { "name": "processDate", "type": "datetime", "required": true },
        { "name": "inputMoistureContent", "type": "number" },
        { "name": "outputMoistureContent", "type": "number" },
        { "name": "qualityChanges", "type": "string" },
        { "name": "mediaBreakOccurred", "type": "boolean", "description": "Kaulen framework continuity break" }
      ]
    },
    {
      "id": "TrackingPoint",
      "name": "TrackingPoint", 
      "area": "core_traceability",
      "description": "Physical locations where TRUs are tracked during movement",
      "fields": [
        { "name": "trackingPointId", "type": "string", "isPK": true, "required": true },
        { "name": "pointType", "type": "enum", "required": true, "values": ["harvest_site", "skid_road", "forest_road", "mill_entrance", "storage_yard"] },
        { "name": "geographicDataId", "type": "string", "isFK": true, "required": true },
        { "name": "operatorId", "type": "string", "isFK": true },
        { "name": "equipmentUsed", "type": "string" },
        { "name": "establishedTimestamp", "type": "datetime", "required": true },
        { "name": "capacity", "type": "number", "description": "Maximum volume capacity" },
        { "name": "isActive", "type": "boolean", "required": true }
      ]
    },
    {
      "id": "LocationHistory",
      "name": "LocationHistory",
      "area": "core_traceability", 
      "description": "Historical movement records of traceable units",
      "fields": [
        { "name": "locationHistoryId", "type": "string", "isPK": true, "required": true },
        { "name": "traceableUnitId", "type": "string", "isFK": true, "required": true },
        { "name": "trackingPointId", "type": "string", "isFK": true },
        { "name": "arrivalTimestamp", "type": "datetime", "required": true },
        { "name": "departureTimestamp", "type": "datetime" },
        { "name": "transportMethod", "type": "enum", "values": ["truck", "rail", "barge", "conveyor", "manual"] },
        { "name": "durationHours", "type": "number" }
      ]
    },
    {
      "id": "Transaction",
      "name": "Transaction",
      "area": "commercial_transactions",
      "description": "Business transactions between organizations", 
      "fields": [
        { "name": "transactionId", "type": "string", "isPK": true, "required": true },
        { "name": "supplyingOrganizationId", "type": "string", "isFK": true, "required": true },
        { "name": "customerOrganizationId", "type": "string", "isFK": true, "required": true },
        { "name": "transactionDate", "type": "date", "required": true },
        { "name": "contractValue", "type": "number" },
        { "name": "transactionStatus", "type": "enum", "values": ["pending", "active", "completed", "cancelled"] },
        { "name": "paymentTerms", "type": "string" },
        { "name": "deliveryTerms", "type": "string" }
      ]
    },
    {
      "id": "TransactionBatch",
      "name": "TransactionBatch", 
      "area": "commercial_transactions",
      "description": "Batch-level commercial transactions with full traceability",
      "fields": [
        { "name": "transactionBatchId", "type": "string", "isPK": true, "required": true },
        { "name": "transactionId", "type": "string", "isFK": true, "required": true },
        { "name": "quantity", "type": "number", "required": true },
        { "name": "quantityUnit", "type": "enum", "values": ["cubic_meters", "metric_tons", "board_feet", "cord", "stere"] },
        { "name": "qualityGrade", "type": "enum", "values": ["Grade_A", "Grade_B", "Grade_C", "Structural", "Fuel"] },
        { "name": "batchStatus", "type": "enum", "values": ["prepared", "in_transit", "delivered", "accepted", "rejected"] },
        { "name": "reconciliationStatus", "type": "enum", "values": ["pending", "in_progress", "resolved", "disputed"] },
        { "name": "deliveryGeographicDataId", "type": "string", "isFK": true },
        { "name": "mediaBreakDetected", "type": "boolean" },
        { "name": "averageMoistureContent", "type": "number" }
      ]
    },
    {
      "id": "DataReconciliation",
      "name": "DataReconciliation",
      "area": "commercial_transactions",
      "description": "Reconciliation records for transaction discrepancies",
      "fields": [
        { "name": "dataReconciliationId", "type": "string", "isPK": true, "required": true },
        { "name": "transactionBatchId", "type": "string", "isFK": true, "required": true },
        { "name": "discrepancyType", "type": "enum", "values": ["quantity_variance", "quality_dispute", "documentation_missing", "measurement_error"] },
        { "name": "detectedTimestamp", "type": "datetime", "required": true },
        { "name": "resolvedTimestamp", "type": "datetime" },
        { "name": "resolution", "type": "string" },
        { "name": "responsible_party", "type": "string" },
        { "name": "corrective_action", "type": "string" }
      ]
    },
    {
      "id": "Organization",
      "name": "Organization",
      "area": "organizational",
      "description": "Business entities in the BOOST supply chain",
      "fields": [
        { "name": "organizationId", "type": "string", "isPK": true, "required": true },
        { "name": "organizationName", "type": "string", "required": true },
        { "name": "organizationType", "type": "enum", "required": true, "values": ["harvester", "processor", "transporter", "end_user", "certifier"] },
        { "name": "primaryGeographicDataId", "type": "string", "isFK": true },
        { "name": "contactEmail", "type": "string" },
        { "name": "contactPhone", "type": "string" },
        { "name": "registrationNumber", "type": "string" },
        { "name": "isActive", "type": "boolean", "required": true }
      ]
    },
    {
      "id": "Operator",
      "name": "Operator", 
      "area": "organizational",
      "description": "Personnel performing operations with enhanced certification tracking",
      "fields": [
        { "name": "operatorId", "type": "string", "isPK": true, "required": true },
        { "name": "organizationId", "type": "string", "isFK": true, "required": true },
        { "name": "operatorName", "type": "string", "required": true },
        { "name": "operatorType", "type": "enum", "required": true, "values": ["harvester", "processor", "transporter", "inspector", "grader"] },
        { "name": "certifications", "type": "string[]" },
        { "name": "equipmentAuthorizations", "type": "string[]" },
        { "name": "licenseNumber", "type": "string" },
        { "name": "licenseExpiry", "type": "date" },
        { "name": "isActive", "type": "boolean", "required": true }
      ]
    },
    {
      "id": "Claim",
      "name": "Claim",
      "area": "certification_claims",
      "description": "Sustainability and certification claims with validation",
      "fields": [
        { "name": "claimId", "type": "string", "isPK": true, "required": true },
        { "name": "traceableUnitId", "type": "string", "isFK": true, "required": true },
        { "name": "claimType", "type": "enum", "required": true, "values": ["FSC_Mix", "FSC_100", "SBP_compliant", "PEFC", "RSB_Global", "ISCC_EU", "RED_II"] },
        { "name": "statement", "type": "string", "required": true },
        { "name": "validated", "type": "boolean", "required": true },
        { "name": "claimPercentage", "type": "number", "description": "0-100%" },
        { "name": "claimScope", "type": "enum", "values": ["harvest", "processing", "transport", "full_chain"] },
        { "name": "certificationSchemeId", "type": "string", "isFK": true },
        { "name": "validatedBy", "type": "string", "isFK": true },
        { "name": "validationDate", "type": "date" }
      ]
    },
    {
      "id": "Certificate", 
      "name": "Certificate",
      "area": "certification_claims",
      "description": "Digital certificates for sustainability schemes",
      "fields": [
        { "name": "certificateId", "type": "string", "isPK": true, "required": true },
        { "name": "certificateNumber", "type": "string", "required": true },
        { "name": "organizationId", "type": "string", "isFK": true, "required": true },
        { "name": "certificationSchemeId", "type": "string", "isFK": true, "required": true },
        { "name": "certificationBodyId", "type": "string", "isFK": true },
        { "name": "issueDate", "type": "date", "required": true },
        { "name": "expiryDate", "type": "date", "required": true },
        { "name": "certificateScope", "type": "string" },
        { "name": "status", "type": "enum", "values": ["active", "expired", "suspended", "revoked"] }
      ]
    },
    {
      "id": "CertificationBody",
      "name": "CertificationBody",
      "area": "certification_claims", 
      "description": "Accredited bodies that issue certificates",
      "fields": [
        { "name": "certificationBodyId", "type": "string", "isPK": true, "required": true },
        { "name": "bodyName", "type": "string", "required": true },
        { "name": "accreditationNumber", "type": "string" },
        { "name": "contactDetails", "type": "string" },
        { "name": "authorizedSchemes", "type": "string[]" },
        { "name": "isActive", "type": "boolean", "required": true }
      ]
    },
    {
      "id": "CertificationScheme",
      "name": "CertificationScheme",
      "area": "certification_claims",
      "description": "Sustainability certification schemes (FSC, PEFC, SBP, etc.)",
      "fields": [
        { "name": "certificationSchemeId", "type": "string", "isPK": true, "required": true },
        { "name": "schemeName", "type": "string", "required": true },
        { "name": "schemeVersion", "type": "string" },
        { "name": "schemeDescription", "type": "string" },
        { "name": "applicableRegions", "type": "string[]" },
        { "name": "schemeOwner", "type": "string" },
        { "name": "isActive", "type": "boolean", "required": true }
      ]
    },
    {
      "id": "Material",
      "name": "Material", 
      "area": "material_specification",
      "description": "Material types and specifications with plant part definitions",
      "fields": [
        { "name": "materialTypeId", "type": "string", "isPK": true, "required": true },
        { "name": "materialName", "type": "string", "required": true },
        { "name": "materialCategory", "type": "enum", "values": ["roundwood", "woodchips", "sawdust", "bark", "pellets", "briquettes"] },
        { "name": "applicablePlantParts", "type": "string[]" },
        { "name": "typicalMoisture", "type": "number", "description": "Typical moisture content %" },
        { "name": "densityKgM3", "type": "number" },
        { "name": "energyContentMJKg", "type": "number" }
      ]
    },
    {
      "id": "SpeciesComponent",
      "name": "SpeciesComponent",
      "area": "material_specification", 
      "description": "Species composition within materials",
      "fields": [
        { "name": "speciesComponentId", "type": "string", "isPK": true, "required": true },
        { "name": "traceableUnitId", "type": "string", "isFK": true, "required": true },
        { "name": "speciesName", "type": "string", "required": true },
        { "name": "scientificName", "type": "string" },
        { "name": "percentage", "type": "number", "required": true, "description": "0-100%" },
        { "name": "volumeM3", "type": "number" },
        { "name": "plantParts", "type": "string[]", "description": "stem, branch, bark, foliage" }
      ]
    },
    {
      "id": "ProductGroup",
      "name": "ProductGroup",
      "area": "material_specification",
      "description": "Commercial product classifications and groupings", 
      "fields": [
        { "name": "productGroupId", "type": "string", "isPK": true, "required": true },
        { "name": "productGroupName", "type": "string", "required": true },
        { "name": "productCategory", "type": "enum", "values": ["solid_biomass", "liquid_biofuel", "biogas"] },
        { "name": "classification", "type": "string" },
        { "name": "description", "type": "string", "required": true },
        { "name": "regulatoryClassification", "type": "string" },
        { "name": "typicalUses", "type": "string[]" },
        { "name": "qualityStandards", "type": "string[]" }
      ]
    },
    {
      "id": "MoistureContent", 
      "name": "MoistureContent",
      "area": "material_specification",
      "description": "Detailed moisture content measurements and tracking",
      "fields": [
        { "name": "moistureContentId", "type": "string", "isPK": true, "required": true },
        { "name": "traceableUnitId", "type": "string", "isFK": true, "required": true },
        { "name": "moisturePercentage", "type": "number", "required": true },
        { "name": "measurementMethod", "type": "enum", "values": ["oven_dry", "moisture_meter", "weight_loss", "karl_fischer"] },
        { "name": "measurementTimestamp", "type": "datetime", "required": true },
        { "name": "operatorId", "type": "string", "isFK": true },
        { "name": "temperature", "type": "number" },
        { "name": "humidity", "type": "number" }
      ]
    },
    {
      "id": "GeographicData",
      "name": "GeographicData",
      "area": "geographic_spatial",
      "description": "Spatial data and location information using GeoJSON",
      "fields": [
        { "name": "geographicDataId", "type": "string", "isPK": true, "required": true },
        { "name": "geoJsonData", "type": "json", "required": true },
        { "name": "dataType", "type": "enum", "values": ["point", "polygon", "linestring", "multipolygon"] },
        { "name": "description", "type": "string" },
        { "name": "country", "type": "string" },
        { "name": "region", "type": "string" },
        { "name": "accuracy", "type": "number", "description": "GPS accuracy in meters" },
        { "name": "elevationM", "type": "number" }
      ]
    },
    {
      "id": "MeasurementRecord", 
      "name": "MeasurementRecord",
      "area": "measurement_quality",
      "description": "Quality measurements and dimensional data",
      "fields": [
        { "name": "measurementRecordId", "type": "string", "isPK": true, "required": true },
        { "name": "traceableUnitId", "type": "string", "isFK": true, "required": true },
        { "name": "measurementType", "type": "enum", "values": ["volume", "weight", "length", "diameter", "moisture", "density"] },
        { "name": "value", "type": "number", "required": true },
        { "name": "unit", "type": "string", "required": true },
        { "name": "measurementTimestamp", "type": "datetime", "required": true },
        { "name": "operatorId", "type": "string", "isFK": true },
        { "name": "instrumentUsed", "type": "string" },
        { "name": "accuracy", "type": "number" }
      ]
    },
    {
      "id": "BiometricIdentifier",
      "name": "BiometricIdentifier", 
      "area": "measurement_quality",
      "description": "Biometric identifiers for media-interruption-free tracking",
      "fields": [
        { "name": "biometricIdentifierId", "type": "string", "isPK": true, "required": true },
        { "name": "traceableUnitId", "type": "string", "isFK": true, "required": true },
        { "name": "identifierType", "type": "enum", "values": ["fiber_pattern", "ring_structure", "bark_pattern", "dna_sample", "rfid_tag"] },
        { "name": "identifierData", "type": "string", "required": true },
        { "name": "confidenceScore", "type": "number", "description": "0-1 confidence" },
        { "name": "captureTimestamp", "type": "datetime", "required": true },
        { "name": "operatorId", "type": "string", "isFK": true },
        { "name": "equipment", "type": "string" }
      ]
    }
  ],
  "relationships": [
    { "from": "TraceableUnit", "to": "MaterialProcessing", "label": "input_to", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "MaterialProcessing", "to": "TraceableUnit", "label": "creates", "type": "identifying", "fromCard": "one", "toCard": "one" },
    { "from": "TraceableUnit", "to": "ProcessingHistory", "label": "has_history", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "MaterialProcessing", "to": "ProcessingHistory", "label": "documented_by", "type": "non-identifying", "fromCard": "one", "toCard": "many" },
    { "from": "TraceableUnit", "to": "TrackingPoint", "label": "tracked_at", "type": "non-identifying", "fromCard": "many", "toCard": "many" },
    { "from": "TraceableUnit", "to": "LocationHistory", "label": "has_location_history", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "TrackingPoint", "to": "LocationHistory", "label": "records_at", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "Transaction", "to": "TransactionBatch", "label": "contains", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "TransactionBatch", "to": "TraceableUnit", "label": "includes", "type": "non-identifying", "fromCard": "many", "toCard": "many" },
    { "from": "TransactionBatch", "to": "DataReconciliation", "label": "requires_reconciliation", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "Organization", "to": "Transaction", "label": "supplies", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "Organization", "to": "Operator", "label": "employs", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "Organization", "to": "Certificate", "label": "holds", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "Operator", "to": "MaterialProcessing", "label": "performs", "type": "non-identifying", "fromCard": "one", "toCard": "many" },
    { "from": "Operator", "to": "TrackingPoint", "label": "operates", "type": "non-identifying", "fromCard": "one", "toCard": "many" },
    { "from": "TraceableUnit", "to": "Claim", "label": "supports", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "CertificationScheme", "to": "Claim", "label": "validates", "type": "non-identifying", "fromCard": "one", "toCard": "many" },
    { "from": "CertificationScheme", "to": "Certificate", "label": "issues", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "CertificationBody", "to": "Certificate", "label": "certifies", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "Material", "to": "TraceableUnit", "label": "defines_type", "type": "non-identifying", "fromCard": "one", "toCard": "many" },
    { "from": "TraceableUnit", "to": "SpeciesComponent", "label": "composed_of", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "ProductGroup", "to": "Material", "label": "categorizes", "type": "non-identifying", "fromCard": "one", "toCard": "many" },
    { "from": "TraceableUnit", "to": "MoistureContent", "label": "has_moisture_data", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "GeographicData", "to": "TraceableUnit", "label": "locates", "type": "non-identifying", "fromCard": "one", "toCard": "many" },
    { "from": "GeographicData", "to": "Organization", "label": "locates", "type": "non-identifying", "fromCard": "one", "toCard": "many" },
    { "from": "GeographicData", "to": "TrackingPoint", "label": "locates", "type": "identifying", "fromCard": "one", "toCard": "one" },
    { "from": "TraceableUnit", "to": "MeasurementRecord", "label": "measured_by", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "TraceableUnit", "to": "BiometricIdentifier", "label": "identified_by", "type": "identifying", "fromCard": "one", "toCard": "many" },
    { "from": "Operator", "to": "MeasurementRecord", "label": "performs", "type": "non-identifying", "fromCard": "one", "toCard": "many" },
    { "from": "Operator", "to": "MoistureContent", "label": "measures", "type": "non-identifying", "fromCard": "one", "toCard": "many" },
    { "from": "TraceableUnit", "to": "TraceableUnit", "label": "parent_of", "type": "non-identifying", "fromCard": "one", "toCard": "many" }
  ]
}