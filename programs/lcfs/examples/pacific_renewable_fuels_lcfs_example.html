<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-07-01 Tue 17:43 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pacific Renewable Fuels LCFS Compliance Example</title>
<meta name="author" content="BOOST LCFS Implementation Team" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Pacific Renewable Fuels LCFS Compliance Example
<br />
<span class="subtitle">Lignocellulosic Biomass Feedstock to Renewable Diesel Production</span>
</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgc0b41c2">1. Introduction</a>
<ul>
<li><a href="#org9bcfa6a">1.1. Business Scenario</a></li>
<li><a href="#orgb499ecd">1.2. Key LCFS Requirements</a></li>
<li><a href="#org60877fb">1.3. Document Structure</a></li>
</ul>
</li>
<li><a href="#org4c7acb1">2. Setup and Data Loading</a></li>
<li><a href="#org20607b5">3. Company Profile and BOOST Organization Entity</a>
<ul>
<li><a href="#org5bda664">3.1. Organization Overview</a></li>
<li><a href="#org1125e01">3.2. Verification</a></li>
</ul>
</li>
<li><a href="#org593db8d">4. Lignocellulosic Feedstock Portfolio</a>
<ul>
<li><a href="#org2d5be7e">4.1. Feedstock Material Entities</a></li>
<li><a href="#org13868cc">4.2. Feedstock Analysis</a></li>
</ul>
</li>
<li><a href="#org20bf97e">5. LCFS Certified Pathways</a>
<ul>
<li><a href="#orgb70ec82">5.1. LCFSPathway Entities</a></li>
<li><a href="#org6361a01">5.2. Pathway Portfolio Analysis</a></li>
</ul>
</li>
<li><a href="#org2baddfb">6. Q1 2025 Fuel Transaction Data</a>
<ul>
<li><a href="#org3f2b3f8">6.1. Transaction Entities</a></li>
<li><a href="#org24e8896">6.2. Transaction Summary Analysis</a></li>
</ul>
</li>
<li><a href="#org3cf481d">7. LCFS Credit Calculation Engine</a>
<ul>
<li><a href="#org2cf7db7">7.1. Energy Conversion Factors</a></li>
<li><a href="#org88f9632">7.2. Credit Calculation Functions</a></li>
<li><a href="#orgcaf7b7d">7.3. Q1 2025 Credit Calculations</a></li>
</ul>
</li>
<li><a href="#orgfd868fb">8. Energy and Carbon Data Entities</a>
<ul>
<li><a href="#orgaf98ae5">8.1. EnergyCarbonData Entities</a></li>
<li><a href="#orgfbf4489">8.2. Carbon Intensity Analysis</a></li>
</ul>
</li>
<li><a href="#org3be175f">9. LCFS Quarterly Report Generation</a>
<ul>
<li><a href="#orge9204ad">9.1. LCFSReporting Entity</a></li>
<li><a href="#org68fcbf4">9.2. CARB LRT-CBTS Report Format</a></li>
</ul>
</li>
<li><a href="#org60a2ec5">10. Data Validation and Compliance Checks</a>
<ul>
<li><a href="#org568eefc">10.1. Entity Validation Functions</a></li>
<li><a href="#org1c3bb34">10.2. Comprehensive Data Validation</a></li>
</ul>
</li>
<li><a href="#org5d99274">11. Implementation Summary and Next Steps</a>
<ul>
<li><a href="#org10292e8">11.1. Key Achievements</a></li>
<li><a href="#org4d7e725">11.2. Business Impact for Pacific Renewable Fuels</a></li>
<li><a href="#orga6a4ad5">11.3. Next Implementation Steps</a></li>
<li><a href="#org0194875">11.4. Technical Architecture</a></li>
</ul>
</li>
<li><a href="#org7841d62">12. Export Instructions</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgc0b41c2" class="outline-2">
<h2 id="orgc0b41c2"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
This document demonstrates a complete LCFS (Low Carbon Fuel Standard) compliance workflow using the BOOST entity framework. We follow Pacific Renewable Fuels Corp, a renewable diesel producer who purchases diverse lignocellulosic biomass feedstocks and must report quarterly to CARB for LCFS crediting.
</p>
</div>
<div id="outline-container-org9bcfa6a" class="outline-3">
<h3 id="org9bcfa6a"><span class="section-number-3">1.1.</span> Business Scenario</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Pacific Renewable Fuels Corp operates a renewable diesel production facility in Stockton, California. The company:
</p>

<ul class="org-ul">
<li>Purchases lignocellulosic biomass from multiple sources</li>
<li>Converts biomass to renewable diesel using hydrotreating technology</li>
<li>Sells fuel to California distributors under LCFS-certified pathways</li>
<li>Must report quarterly fuel transactions to CARB for credit generation</li>
</ul>
</div>
</div>
<div id="outline-container-orgb499ecd" class="outline-3">
<h3 id="orgb499ecd"><span class="section-number-3">1.2.</span> Key LCFS Requirements</h3>
<div class="outline-text-3" id="text-1-2">
<ol class="org-ol">
<li><b>Pathway Certification</b>: All fuel production must use CARB-certified pathways</li>
<li><b>Carbon Intensity Tracking</b>: CI values must be verified using CA-GREET methodology</li>
<li><b>Quarterly Reporting</b>: Submit fuel transaction data within 45 days of quarter end</li>
<li><b>Credit Calculation</b>: Generate credits based on CI difference from regulatory benchmark</li>
<li><b>Third-Party Verification</b>: Annual verification of large fuel volumes</li>
</ol>
</div>
</div>
<div id="outline-container-org60877fb" class="outline-3">
<h3 id="org60877fb"><span class="section-number-3">1.3.</span> Document Structure</h3>
<div class="outline-text-3" id="text-1-3">
<p>
This literate programming document contains executable source blocks that:
</p>
<ul class="org-ul">
<li>Generate realistic BOOST entity data</li>
<li>Perform LCFS credit calculations</li>
<li>Create CARB-compliant quarterly reports</li>
<li>Validate data quality and compliance</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org4c7acb1" class="outline-2">
<h2 id="org4c7acb1"><span class="section-number-2">2.</span> Setup and Data Loading</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #0000FF; font-weight: bold;">import</span> json
<span style="color: #0000FF; font-weight: bold;">from</span> collections <span style="color: #0000FF; font-weight: bold;">import</span> defaultdict
<span style="color: #0000FF; font-weight: bold;">import</span> re

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Load all JSON data for the analysis</span>
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"Loading BOOST entity data for LCFS analysis..."</span>)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Organization data</span>
<span style="color: #BA36A5;">organization_data</span> = {
  <span style="color: #008000;">"organizationId"</span>: <span style="color: #008000;">"pacific-renewable-fuels-001"</span>,
  <span style="color: #008000;">"name"</span>: <span style="color: #008000;">"Pacific Renewable Fuels Corp"</span>,
  <span style="color: #008000;">"address"</span>: {
    <span style="color: #008000;">"street"</span>: <span style="color: #008000;">"2500 Industrial Parkway"</span>,
    <span style="color: #008000;">"city"</span>: <span style="color: #008000;">"Stockton"</span>, 
    <span style="color: #008000;">"state"</span>: <span style="color: #008000;">"CA"</span>,
    <span style="color: #008000;">"postalCode"</span>: <span style="color: #008000;">"95206"</span>,
    <span style="color: #008000;">"country"</span>: <span style="color: #008000;">"USA"</span>
  },
  <span style="color: #008000;">"contactInfo"</span>: {
    <span style="color: #008000;">"email"</span>: <span style="color: #008000;">"compliance@pacificrenewable.com"</span>,
    <span style="color: #008000;">"phone"</span>: <span style="color: #008000;">"+1-209-555-0150"</span>,
    <span style="color: #008000;">"website"</span>: <span style="color: #008000;">"https://www.pacificrenewable.com"</span>
  },
  <span style="color: #008000;">"lcfsRegistrationId"</span>: <span style="color: #008000;">"LCFS-REG-2025-003"</span>,
  <span style="color: #008000;">"regulatedEntityType"</span>: <span style="color: #008000;">"producer"</span>,
  <span style="color: #008000;">"facilityCapacity"</span>: {
    <span style="color: #008000;">"annualCapacity"</span>: 50000000,
    <span style="color: #008000;">"unit"</span>: <span style="color: #008000;">"gallons_renewable_diesel"</span>
  },
  <span style="color: #008000;">"operationalStatus"</span>: <span style="color: #008000;">"active"</span>,
  <span style="color: #008000;">"lastUpdated"</span>: <span style="color: #008000;">"2025-07-02T10:00:00Z"</span>
}

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Feedstock materials data</span>
<span style="color: #BA36A5;">feedstocks_data</span> = [
  {
    <span style="color: #008000;">"materialId"</span>: <span style="color: #008000;">"feedstock-lumber-mill-residual-001"</span>,
    <span style="color: #008000;">"materialType"</span>: <span style="color: #008000;">"lumber_mill_residual"</span>,
    <span style="color: #008000;">"description"</span>: <span style="color: #008000;">"Sawdust and wood chips from lumber milling operations"</span>,
    <span style="color: #008000;">"specification"</span>: {
      <span style="color: #008000;">"moistureContent"</span>: 15.2,
      <span style="color: #008000;">"ashContent"</span>: 2.1,
      <span style="color: #008000;">"cellulose"</span>: 42.5,
      <span style="color: #008000;">"hemicellulose"</span>: 27.3,
      <span style="color: #008000;">"lignin"</span>: 28.1
    },
    <span style="color: #008000;">"supplier"</span>: <span style="color: #008000;">"Northern California Lumber Co-op"</span>,
    <span style="color: #008000;">"originLocation"</span>: {
      <span style="color: #008000;">"region"</span>: <span style="color: #008000;">"Northern California"</span>,
      <span style="color: #008000;">"sustainabilityCertification"</span>: <span style="color: #008000;">"FSC_Chain_of_Custody"</span>
    },
    <span style="color: #008000;">"carbonIntensityProfile"</span>: {
      <span style="color: #008000;">"feedstockCI"</span>: 2.8,
      <span style="color: #008000;">"transportCI"</span>: 1.2,
      <span style="color: #008000;">"totalFeedstockCI"</span>: 4.0
    }
  },
  {
    <span style="color: #008000;">"materialId"</span>: <span style="color: #008000;">"feedstock-ag-residue-001"</span>, 
    <span style="color: #008000;">"materialType"</span>: <span style="color: #008000;">"agricultural_residue"</span>,
    <span style="color: #008000;">"description"</span>: <span style="color: #008000;">"Wheat straw and rice hulls from Central Valley farms"</span>,
    <span style="color: #008000;">"specification"</span>: {
      <span style="color: #008000;">"moistureContent"</span>: 12.5,
      <span style="color: #008000;">"ashContent"</span>: 8.7,
      <span style="color: #008000;">"cellulose"</span>: 38.2,
      <span style="color: #008000;">"hemicellulose"</span>: 32.1,
      <span style="color: #008000;">"lignin"</span>: 21.0
    },
    <span style="color: #008000;">"supplier"</span>: <span style="color: #008000;">"Central Valley Ag Residue Collective"</span>,
    <span style="color: #008000;">"originLocation"</span>: {
      <span style="color: #008000;">"region"</span>: <span style="color: #008000;">"California Central Valley"</span>,
      <span style="color: #008000;">"sustainabilityCertification"</span>: <span style="color: #008000;">"CARB_Approved_Feedstock"</span>
    },
    <span style="color: #008000;">"carbonIntensityProfile"</span>: {
      <span style="color: #008000;">"feedstockCI"</span>: 1.5,
      <span style="color: #008000;">"transportCI"</span>: 2.1,
      <span style="color: #008000;">"totalFeedstockCI"</span>: 3.6
    }
  },
  {
    <span style="color: #008000;">"materialId"</span>: <span style="color: #008000;">"feedstock-green-waste-001"</span>,
    <span style="color: #008000;">"materialType"</span>: <span style="color: #008000;">"municipal_green_waste"</span>, 
    <span style="color: #008000;">"description"</span>: <span style="color: #008000;">"Yard trimmings and tree waste from municipal collection"</span>,
    <span style="color: #008000;">"specification"</span>: {
      <span style="color: #008000;">"moistureContent"</span>: 18.7,
      <span style="color: #008000;">"ashContent"</span>: 4.3,
      <span style="color: #008000;">"cellulose"</span>: 35.8,
      <span style="color: #008000;">"hemicellulose"</span>: 25.2,
      <span style="color: #008000;">"lignin"</span>: 34.7
    },
    <span style="color: #008000;">"supplier"</span>: <span style="color: #008000;">"Bay Area Green Waste Recovery"</span>,
    <span style="color: #008000;">"originLocation"</span>: {
      <span style="color: #008000;">"region"</span>: <span style="color: #008000;">"San Francisco Bay Area"</span>,
      <span style="color: #008000;">"sustainabilityCertification"</span>: <span style="color: #008000;">"Municipal_Waste_Stream"</span>
    },
    <span style="color: #008000;">"carbonIntensityProfile"</span>: {
      <span style="color: #008000;">"feedstockCI"</span>: 0.8,
      <span style="color: #008000;">"transportCI"</span>: 1.8,
      <span style="color: #008000;">"totalFeedstockCI"</span>: 2.6
    }
  },
  {
    <span style="color: #008000;">"materialId"</span>: <span style="color: #008000;">"feedstock-forest-residual-001"</span>,
    <span style="color: #008000;">"materialType"</span>: <span style="color: #008000;">"forest_harvest_residual"</span>,
    <span style="color: #008000;">"description"</span>: <span style="color: #008000;">"Logging residue and forest thinning materials"</span>,
    <span style="color: #008000;">"specification"</span>: {
      <span style="color: #008000;">"moistureContent"</span>: 22.1,
      <span style="color: #008000;">"ashContent"</span>: 1.9,
      <span style="color: #008000;">"cellulose"</span>: 44.2,
      <span style="color: #008000;">"hemicellulose"</span>: 29.8,
      <span style="color: #008000;">"lignin"</span>: 24.1
    },
    <span style="color: #008000;">"supplier"</span>: <span style="color: #008000;">"Sierra Nevada Forest Products"</span>,
    <span style="color: #008000;">"originLocation"</span>: {
      <span style="color: #008000;">"region"</span>: <span style="color: #008000;">"Sierra Nevada Foothills"</span>,
      <span style="color: #008000;">"sustainabilityCertification"</span>: <span style="color: #008000;">"SFI_Fiber_Sourcing"</span>
    },
    <span style="color: #008000;">"carbonIntensityProfile"</span>: {
      <span style="color: #008000;">"feedstockCI"</span>: 3.2,
      <span style="color: #008000;">"transportCI"</span>: 2.4,
      <span style="color: #008000;">"totalFeedstockCI"</span>: 5.6
    }
  }
]

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">LCFS Pathways data</span>
<span style="color: #BA36A5;">pathways_data</span> = [
  {
    <span style="color: #008000;">"pathwayId"</span>: <span style="color: #008000;">"CA-RD-2025-LMR-001"</span>,
    <span style="color: #008000;">"pathwayType"</span>: <span style="color: #008000;">"Tier_1"</span>,
    <span style="color: #008000;">"feedstockCategory"</span>: <span style="color: #008000;">"lumber_mill_residual"</span>,
    <span style="color: #008000;">"fuelProduct"</span>: <span style="color: #008000;">"renewable_diesel"</span>,
    <span style="color: #008000;">"facilityLocation"</span>: <span style="color: #008000;">"Stockton, California, USA"</span>,
    <span style="color: #008000;">"carbonIntensity"</span>: 18.7,
    <span style="color: #008000;">"energyEconomyRatio"</span>: 1.0,
    <span style="color: #008000;">"certificationDate"</span>: <span style="color: #008000;">"2025-01-15"</span>,
    <span style="color: #008000;">"expirationDate"</span>: <span style="color: #008000;">"2028-01-15"</span>, 
    <span style="color: #008000;">"verificationStatus"</span>: <span style="color: #008000;">"active"</span>,
    <span style="color: #008000;">"caGreetVersion"</span>: <span style="color: #008000;">"3.0"</span>,
    <span style="color: #008000;">"pathwayDescription"</span>: <span style="color: #008000;">"Lumber mill residue to renewable diesel via hydrotreating"</span>,
    <span style="color: #008000;">"annualVolumeLimit"</span>: 15000000,
    <span style="color: #008000;">"facility"</span>: {
      <span style="color: #008000;">"facilityId"</span>: <span style="color: #008000;">"CARB-FAC-2025-003"</span>,
      <span style="color: #008000;">"operatorName"</span>: <span style="color: #008000;">"Pacific Renewable Fuels Corp"</span>
    }
  },
  {
    <span style="color: #008000;">"pathwayId"</span>: <span style="color: #008000;">"CA-RD-2025-AGR-001"</span>, 
    <span style="color: #008000;">"pathwayType"</span>: <span style="color: #008000;">"Tier_1"</span>,
    <span style="color: #008000;">"feedstockCategory"</span>: <span style="color: #008000;">"agricultural_residue"</span>,
    <span style="color: #008000;">"fuelProduct"</span>: <span style="color: #008000;">"renewable_diesel"</span>,
    <span style="color: #008000;">"facilityLocation"</span>: <span style="color: #008000;">"Stockton, California, USA"</span>,
    <span style="color: #008000;">"carbonIntensity"</span>: 16.2,
    <span style="color: #008000;">"energyEconomyRatio"</span>: 1.0,
    <span style="color: #008000;">"certificationDate"</span>: <span style="color: #008000;">"2025-01-20"</span>,
    <span style="color: #008000;">"expirationDate"</span>: <span style="color: #008000;">"2028-01-20"</span>,
    <span style="color: #008000;">"verificationStatus"</span>: <span style="color: #008000;">"active"</span>, 
    <span style="color: #008000;">"caGreetVersion"</span>: <span style="color: #008000;">"3.0"</span>,
    <span style="color: #008000;">"pathwayDescription"</span>: <span style="color: #008000;">"Agricultural residue to renewable diesel via hydrotreating"</span>,
    <span style="color: #008000;">"annualVolumeLimit"</span>: 20000000,
    <span style="color: #008000;">"facility"</span>: {
      <span style="color: #008000;">"facilityId"</span>: <span style="color: #008000;">"CARB-FAC-2025-003"</span>,
      <span style="color: #008000;">"operatorName"</span>: <span style="color: #008000;">"Pacific Renewable Fuels Corp"</span>
    }
  },
  {
    <span style="color: #008000;">"pathwayId"</span>: <span style="color: #008000;">"CA-RD-2025-GRW-001"</span>,
    <span style="color: #008000;">"pathwayType"</span>: <span style="color: #008000;">"Tier_1"</span>, 
    <span style="color: #008000;">"feedstockCategory"</span>: <span style="color: #008000;">"municipal_green_waste"</span>,
    <span style="color: #008000;">"fuelProduct"</span>: <span style="color: #008000;">"renewable_diesel"</span>,
    <span style="color: #008000;">"facilityLocation"</span>: <span style="color: #008000;">"Stockton, California, USA"</span>,
    <span style="color: #008000;">"carbonIntensity"</span>: 14.5,
    <span style="color: #008000;">"energyEconomyRatio"</span>: 1.0,
    <span style="color: #008000;">"certificationDate"</span>: <span style="color: #008000;">"2025-02-01"</span>,
    <span style="color: #008000;">"expirationDate"</span>: <span style="color: #008000;">"2028-02-01"</span>,
    <span style="color: #008000;">"verificationStatus"</span>: <span style="color: #008000;">"active"</span>,
    <span style="color: #008000;">"caGreetVersion"</span>: <span style="color: #008000;">"3.0"</span>,
    <span style="color: #008000;">"pathwayDescription"</span>: <span style="color: #008000;">"Municipal green waste to renewable diesel via hydrotreating"</span>,
    <span style="color: #008000;">"annualVolumeLimit"</span>: 10000000,
    <span style="color: #008000;">"facility"</span>: {
      <span style="color: #008000;">"facilityId"</span>: <span style="color: #008000;">"CARB-FAC-2025-003"</span>,
      <span style="color: #008000;">"operatorName"</span>: <span style="color: #008000;">"Pacific Renewable Fuels Corp"</span>
    }
  },
  {
    <span style="color: #008000;">"pathwayId"</span>: <span style="color: #008000;">"CA-RD-2025-FHR-001"</span>,
    <span style="color: #008000;">"pathwayType"</span>: <span style="color: #008000;">"Tier_1"</span>,
    <span style="color: #008000;">"feedstockCategory"</span>: <span style="color: #008000;">"forest_harvest_residual"</span>, 
    <span style="color: #008000;">"fuelProduct"</span>: <span style="color: #008000;">"renewable_diesel"</span>,
    <span style="color: #008000;">"facilityLocation"</span>: <span style="color: #008000;">"Stockton, California, USA"</span>,
    <span style="color: #008000;">"carbonIntensity"</span>: 21.3,
    <span style="color: #008000;">"energyEconomyRatio"</span>: 1.0,
    <span style="color: #008000;">"certificationDate"</span>: <span style="color: #008000;">"2025-01-10"</span>,
    <span style="color: #008000;">"expirationDate"</span>: <span style="color: #008000;">"2028-01-10"</span>,
    <span style="color: #008000;">"verificationStatus"</span>: <span style="color: #008000;">"active"</span>,
    <span style="color: #008000;">"caGreetVersion"</span>: <span style="color: #008000;">"3.0"</span>,
    <span style="color: #008000;">"pathwayDescription"</span>: <span style="color: #008000;">"Forest harvest residue to renewable diesel via hydrotreating"</span>,
    <span style="color: #008000;">"annualVolumeLimit"</span>: 8000000,
    <span style="color: #008000;">"facility"</span>: {
      <span style="color: #008000;">"facilityId"</span>: <span style="color: #008000;">"CARB-FAC-2025-003"</span>, 
      <span style="color: #008000;">"operatorName"</span>: <span style="color: #008000;">"Pacific Renewable Fuels Corp"</span>
    }
  }
]

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Q1 2025 Transactions data</span>
<span style="color: #BA36A5;">transactions_data</span> = [
  {
    <span style="color: #008000;">"transactionId"</span>: <span style="color: #008000;">"TXN-2025-Q1-001"</span>,
    <span style="color: #008000;">"transactionType"</span>: <span style="color: #008000;">"fuel_sale"</span>,
    <span style="color: #008000;">"supplyingOrganizationId"</span>: <span style="color: #008000;">"pacific-renewable-fuels-001"</span>,
    <span style="color: #008000;">"customerOrganizationId"</span>: <span style="color: #008000;">"ca-fuel-distributor-001"</span>,
    <span style="color: #008000;">"transactionDate"</span>: <span style="color: #008000;">"2025-01-15"</span>,
    <span style="color: #008000;">"fuelVolume"</span>: 875000.0,
    <span style="color: #008000;">"fuelVolumeUnit"</span>: <span style="color: #008000;">"gallons"</span>,
    <span style="color: #008000;">"fuelCategory"</span>: <span style="color: #008000;">"renewable_diesel"</span>, 
    <span style="color: #008000;">"reportingPeriod"</span>: <span style="color: #008000;">"2025-Q1"</span>,
    <span style="color: #008000;">"lcfsPathwayId"</span>: <span style="color: #008000;">"CA-RD-2025-LMR-001"</span>,
    <span style="color: #008000;">"regulatedPartyRole"</span>: <span style="color: #008000;">"producer"</span>,
    <span style="color: #008000;">"deliveryLocation"</span>: {
      <span style="color: #008000;">"city"</span>: <span style="color: #008000;">"Oakland"</span>,
      <span style="color: #008000;">"state"</span>: <span style="color: #008000;">"CA"</span>
    }
  },
  {
    <span style="color: #008000;">"transactionId"</span>: <span style="color: #008000;">"TXN-2025-Q1-002"</span>,
    <span style="color: #008000;">"transactionType"</span>: <span style="color: #008000;">"fuel_sale"</span>,
    <span style="color: #008000;">"supplyingOrganizationId"</span>: <span style="color: #008000;">"pacific-renewable-fuels-001"</span>, 
    <span style="color: #008000;">"customerOrganizationId"</span>: <span style="color: #008000;">"ca-fuel-distributor-002"</span>,
    <span style="color: #008000;">"transactionDate"</span>: <span style="color: #008000;">"2025-01-28"</span>,
    <span style="color: #008000;">"fuelVolume"</span>: 1250000.0,
    <span style="color: #008000;">"fuelVolumeUnit"</span>: <span style="color: #008000;">"gallons"</span>,
    <span style="color: #008000;">"fuelCategory"</span>: <span style="color: #008000;">"renewable_diesel"</span>,
    <span style="color: #008000;">"reportingPeriod"</span>: <span style="color: #008000;">"2025-Q1"</span>, 
    <span style="color: #008000;">"lcfsPathwayId"</span>: <span style="color: #008000;">"CA-RD-2025-AGR-001"</span>,
    <span style="color: #008000;">"regulatedPartyRole"</span>: <span style="color: #008000;">"producer"</span>,
    <span style="color: #008000;">"deliveryLocation"</span>: {
      <span style="color: #008000;">"city"</span>: <span style="color: #008000;">"Fresno"</span>,
      <span style="color: #008000;">"state"</span>: <span style="color: #008000;">"CA"</span>
    }
  },
  {
    <span style="color: #008000;">"transactionId"</span>: <span style="color: #008000;">"TXN-2025-Q1-003"</span>,
    <span style="color: #008000;">"transactionType"</span>: <span style="color: #008000;">"fuel_sale"</span>,
    <span style="color: #008000;">"supplyingOrganizationId"</span>: <span style="color: #008000;">"pacific-renewable-fuels-001"</span>,
    <span style="color: #008000;">"customerOrganizationId"</span>: <span style="color: #008000;">"ca-fuel-distributor-003"</span>, 
    <span style="color: #008000;">"transactionDate"</span>: <span style="color: #008000;">"2025-02-12"</span>,
    <span style="color: #008000;">"fuelVolume"</span>: 650000.0,
    <span style="color: #008000;">"fuelVolumeUnit"</span>: <span style="color: #008000;">"gallons"</span>,
    <span style="color: #008000;">"fuelCategory"</span>: <span style="color: #008000;">"renewable_diesel"</span>,
    <span style="color: #008000;">"reportingPeriod"</span>: <span style="color: #008000;">"2025-Q1"</span>,
    <span style="color: #008000;">"lcfsPathwayId"</span>: <span style="color: #008000;">"CA-RD-2025-GRW-001"</span>,
    <span style="color: #008000;">"regulatedPartyRole"</span>: <span style="color: #008000;">"producer"</span>,
    <span style="color: #008000;">"deliveryLocation"</span>: {
      <span style="color: #008000;">"city"</span>: <span style="color: #008000;">"San Jose"</span>,
      <span style="color: #008000;">"state"</span>: <span style="color: #008000;">"CA"</span>
    }
  },
  {
    <span style="color: #008000;">"transactionId"</span>: <span style="color: #008000;">"TXN-2025-Q1-004"</span>,
    <span style="color: #008000;">"transactionType"</span>: <span style="color: #008000;">"fuel_sale"</span>,
    <span style="color: #008000;">"supplyingOrganizationId"</span>: <span style="color: #008000;">"pacific-renewable-fuels-001"</span>,
    <span style="color: #008000;">"customerOrganizationId"</span>: <span style="color: #008000;">"ca-fuel-distributor-001"</span>,
    <span style="color: #008000;">"transactionDate"</span>: <span style="color: #008000;">"2025-02-25"</span>,
    <span style="color: #008000;">"fuelVolume"</span>: 425000.0,
    <span style="color: #008000;">"fuelVolumeUnit"</span>: <span style="color: #008000;">"gallons"</span>, 
    <span style="color: #008000;">"fuelCategory"</span>: <span style="color: #008000;">"renewable_diesel"</span>,
    <span style="color: #008000;">"reportingPeriod"</span>: <span style="color: #008000;">"2025-Q1"</span>,
    <span style="color: #008000;">"lcfsPathwayId"</span>: <span style="color: #008000;">"CA-RD-2025-FHR-001"</span>,
    <span style="color: #008000;">"regulatedPartyRole"</span>: <span style="color: #008000;">"producer"</span>,
    <span style="color: #008000;">"deliveryLocation"</span>: {
      <span style="color: #008000;">"city"</span>: <span style="color: #008000;">"Sacramento"</span>,
      <span style="color: #008000;">"state"</span>: <span style="color: #008000;">"CA"</span>
    }
  },
  {
    <span style="color: #008000;">"transactionId"</span>: <span style="color: #008000;">"TXN-2025-Q1-005"</span>,
    <span style="color: #008000;">"transactionType"</span>: <span style="color: #008000;">"fuel_sale"</span>,
    <span style="color: #008000;">"supplyingOrganizationId"</span>: <span style="color: #008000;">"pacific-renewable-fuels-001"</span>,
    <span style="color: #008000;">"customerOrganizationId"</span>: <span style="color: #008000;">"ca-fuel-distributor-002"</span>,
    <span style="color: #008000;">"transactionDate"</span>: <span style="color: #008000;">"2025-03-10"</span>,
    <span style="color: #008000;">"fuelVolume"</span>: 1100000.0,
    <span style="color: #008000;">"fuelVolumeUnit"</span>: <span style="color: #008000;">"gallons"</span>,
    <span style="color: #008000;">"fuelCategory"</span>: <span style="color: #008000;">"renewable_diesel"</span>,
    <span style="color: #008000;">"reportingPeriod"</span>: <span style="color: #008000;">"2025-Q1"</span>,
    <span style="color: #008000;">"lcfsPathwayId"</span>: <span style="color: #008000;">"CA-RD-2025-AGR-001"</span>, 
    <span style="color: #008000;">"regulatedPartyRole"</span>: <span style="color: #008000;">"producer"</span>,
    <span style="color: #008000;">"deliveryLocation"</span>: {
      <span style="color: #008000;">"city"</span>: <span style="color: #008000;">"Bakersfield"</span>,
      <span style="color: #008000;">"state"</span>: <span style="color: #008000;">"CA"</span>
    }
  },
  {
    <span style="color: #008000;">"transactionId"</span>: <span style="color: #008000;">"TXN-2025-Q1-006"</span>,
    <span style="color: #008000;">"transactionType"</span>: <span style="color: #008000;">"fuel_sale"</span>,
    <span style="color: #008000;">"supplyingOrganizationId"</span>: <span style="color: #008000;">"pacific-renewable-fuels-001"</span>,
    <span style="color: #008000;">"customerOrganizationId"</span>: <span style="color: #008000;">"ca-fuel-distributor-004"</span>,
    <span style="color: #008000;">"transactionDate"</span>: <span style="color: #008000;">"2025-03-22"</span>,
    <span style="color: #008000;">"fuelVolume"</span>: 775000.0,
    <span style="color: #008000;">"fuelVolumeUnit"</span>: <span style="color: #008000;">"gallons"</span>,
    <span style="color: #008000;">"fuelCategory"</span>: <span style="color: #008000;">"renewable_diesel"</span>,
    <span style="color: #008000;">"reportingPeriod"</span>: <span style="color: #008000;">"2025-Q1"</span>,
    <span style="color: #008000;">"lcfsPathwayId"</span>: <span style="color: #008000;">"CA-RD-2025-LMR-001"</span>,
    <span style="color: #008000;">"regulatedPartyRole"</span>: <span style="color: #008000;">"producer"</span>,
    <span style="color: #008000;">"deliveryLocation"</span>: {
      <span style="color: #008000;">"city"</span>: <span style="color: #008000;">"Los Angeles"</span>, 
      <span style="color: #008000;">"state"</span>: <span style="color: #008000;">"CA"</span>
    }
  }
]

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Carbon intensity data</span>
<span style="color: #BA36A5;">carbon_data_list</span> = [
  {
    <span style="color: #008000;">"energyCarbonDataId"</span>: <span style="color: #008000;">"CI-2025-LMR-001"</span>,
    <span style="color: #008000;">"dataCategory"</span>: <span style="color: #008000;">"carbon_intensity"</span>,
    <span style="color: #008000;">"value"</span>: 18.7,
    <span style="color: #008000;">"unit"</span>: <span style="color: #008000;">"gCO2e/MJ"</span>,
    <span style="color: #008000;">"source"</span>: <span style="color: #008000;">"Third-party verification by Environmental Resources Management"</span>,
    <span style="color: #008000;">"measurementMethod"</span>: <span style="color: #008000;">"CA-GREET3.0"</span>,
    <span style="color: #008000;">"lcfsPathwayType"</span>: <span style="color: #008000;">"Tier_1"</span>, 
    <span style="color: #008000;">"energyEconomyRatio"</span>: 1.0,
    <span style="color: #008000;">"lifeCycleStage"</span>: <span style="color: #008000;">"production"</span>,
    <span style="color: #008000;">"regulatoryBenchmark"</span>: 95.61,
    <span style="color: #008000;">"verificationDate"</span>: <span style="color: #008000;">"2025-01-10"</span>,
    <span style="color: #008000;">"associatedPathway"</span>: <span style="color: #008000;">"CA-RD-2025-LMR-001"</span>,
    <span style="color: #008000;">"lcaBreakdown"</span>: {
      <span style="color: #008000;">"feedstock"</span>: 4.0,
      <span style="color: #008000;">"transport"</span>: 1.2,
      <span style="color: #008000;">"processing"</span>: 12.8,
      <span style="color: #008000;">"distribution"</span>: 0.7
    }
  },
  {
    <span style="color: #008000;">"energyCarbonDataId"</span>: <span style="color: #008000;">"CI-2025-AGR-001"</span>, 
    <span style="color: #008000;">"dataCategory"</span>: <span style="color: #008000;">"carbon_intensity"</span>,
    <span style="color: #008000;">"value"</span>: 16.2,
    <span style="color: #008000;">"unit"</span>: <span style="color: #008000;">"gCO2e/MJ"</span>,
    <span style="color: #008000;">"source"</span>: <span style="color: #008000;">"Third-party verification by Environmental Resources Management"</span>,
    <span style="color: #008000;">"measurementMethod"</span>: <span style="color: #008000;">"CA-GREET3.0"</span>,
    <span style="color: #008000;">"lcfsPathwayType"</span>: <span style="color: #008000;">"Tier_1"</span>,
    <span style="color: #008000;">"energyEconomyRatio"</span>: 1.0,
    <span style="color: #008000;">"lifeCycleStage"</span>: <span style="color: #008000;">"production"</span>,
    <span style="color: #008000;">"regulatoryBenchmark"</span>: 95.61,
    <span style="color: #008000;">"verificationDate"</span>: <span style="color: #008000;">"2025-01-15"</span>,
    <span style="color: #008000;">"associatedPathway"</span>: <span style="color: #008000;">"CA-RD-2025-AGR-001"</span>,
    <span style="color: #008000;">"lcaBreakdown"</span>: {
      <span style="color: #008000;">"feedstock"</span>: 3.6,
      <span style="color: #008000;">"transport"</span>: 2.1, 
      <span style="color: #008000;">"processing"</span>: 10.1,
      <span style="color: #008000;">"distribution"</span>: 0.4
    }
  },
  {
    <span style="color: #008000;">"energyCarbonDataId"</span>: <span style="color: #008000;">"CI-2025-GRW-001"</span>,
    <span style="color: #008000;">"dataCategory"</span>: <span style="color: #008000;">"carbon_intensity"</span>, 
    <span style="color: #008000;">"value"</span>: 14.5,
    <span style="color: #008000;">"unit"</span>: <span style="color: #008000;">"gCO2e/MJ"</span>,
    <span style="color: #008000;">"source"</span>: <span style="color: #008000;">"Third-party verification by Environmental Resources Management"</span>,
    <span style="color: #008000;">"measurementMethod"</span>: <span style="color: #008000;">"CA-GREET3.0"</span>,
    <span style="color: #008000;">"lcfsPathwayType"</span>: <span style="color: #008000;">"Tier_1"</span>,
    <span style="color: #008000;">"energyEconomyRatio"</span>: 1.0,
    <span style="color: #008000;">"lifeCycleStage"</span>: <span style="color: #008000;">"production"</span>,
    <span style="color: #008000;">"regulatoryBenchmark"</span>: 95.61,
    <span style="color: #008000;">"verificationDate"</span>: <span style="color: #008000;">"2025-01-20"</span>,
    <span style="color: #008000;">"associatedPathway"</span>: <span style="color: #008000;">"CA-RD-2025-GRW-001"</span>,
    <span style="color: #008000;">"lcaBreakdown"</span>: {
      <span style="color: #008000;">"feedstock"</span>: 2.6,
      <span style="color: #008000;">"transport"</span>: 1.8,
      <span style="color: #008000;">"processing"</span>: 9.8,
      <span style="color: #008000;">"distribution"</span>: 0.3
    }
  },
  {
    <span style="color: #008000;">"energyCarbonDataId"</span>: <span style="color: #008000;">"CI-2025-FHR-001"</span>,
    <span style="color: #008000;">"dataCategory"</span>: <span style="color: #008000;">"carbon_intensity"</span>,
    <span style="color: #008000;">"value"</span>: 21.3,
    <span style="color: #008000;">"unit"</span>: <span style="color: #008000;">"gCO2e/MJ"</span>, 
    <span style="color: #008000;">"source"</span>: <span style="color: #008000;">"Third-party verification by Environmental Resources Management"</span>,
    <span style="color: #008000;">"measurementMethod"</span>: <span style="color: #008000;">"CA-GREET3.0"</span>,
    <span style="color: #008000;">"lcfsPathwayType"</span>: <span style="color: #008000;">"Tier_1"</span>,
    <span style="color: #008000;">"energyEconomyRatio"</span>: 1.0,
    <span style="color: #008000;">"lifeCycleStage"</span>: <span style="color: #008000;">"production"</span>,
    <span style="color: #008000;">"regulatoryBenchmark"</span>: 95.61,
    <span style="color: #008000;">"verificationDate"</span>: <span style="color: #008000;">"2025-01-05"</span>,
    <span style="color: #008000;">"associatedPathway"</span>: <span style="color: #008000;">"CA-RD-2025-FHR-001"</span>,
    <span style="color: #008000;">"lcaBreakdown"</span>: {
      <span style="color: #008000;">"feedstock"</span>: 5.6,
      <span style="color: #008000;">"transport"</span>: 2.4,
      <span style="color: #008000;">"processing"</span>: 12.8,
      <span style="color: #008000;">"distribution"</span>: 0.5
    }
  }
]

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">LCFS constants and conversion factors</span>
<span style="color: #BA36A5;">ENERGY_CONVERSIONS</span> = {
    <span style="color: #008000;">'renewable_diesel'</span>: 138.7,  <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">MJ per gallon</span>
    <span style="color: #008000;">'gasoline'</span>: 121.3,
    <span style="color: #008000;">'diesel'</span>: 138.7,
    <span style="color: #008000;">'ethanol'</span>: 84.5,
    <span style="color: #008000;">'hydrogen'</span>: 142.0  <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">MJ per kg</span>
}

<span style="color: #BA36A5;">REGULATORY_BENCHMARKS_2025</span> = {
    <span style="color: #008000;">'gasoline'</span>: 95.61,  <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">gCO2e/MJ</span>
    <span style="color: #008000;">'diesel'</span>: 95.61,
    <span style="color: #008000;">'jet_fuel'</span>: 88.76
}

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Create lookup dictionaries</span>
<span style="color: #BA36A5;">pathway_lookup</span> = {p[<span style="color: #008000;">'pathwayId'</span>]: p <span style="color: #0000FF; font-weight: bold;">for</span> p <span style="color: #0000FF; font-weight: bold;">in</span> pathways_data}

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"&#10003; Organization data loaded"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"&#10003; Feedstock materials data loaded"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"&#10003; LCFS pathways data loaded"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"&#10003; Q1 2025 transactions loaded"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"&#10003; Carbon intensity data loaded"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"&#10003; Conversion factors loaded"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"&#10003; Python session initialized"</span>)
</pre>
</div>

<pre class="example">
Loading BOOST entity data for LCFS analysis...
✓ Organization data loaded
✓ Feedstock materials data loaded
✓ LCFS pathways data loaded
✓ Q1 2025 transactions loaded
✓ Carbon intensity data loaded
✓ Conversion factors loaded
✓ Python session initialized
</pre>
</div>
</div>
<div id="outline-container-org20607b5" class="outline-2">
<h2 id="org20607b5"><span class="section-number-2">3.</span> Company Profile and BOOST Organization Entity</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org5bda664" class="outline-3">
<h3 id="org5bda664"><span class="section-number-3">3.1.</span> Organization Overview</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Pacific Renewable Fuels Corp is a mid-sized renewable fuel producer specializing in lignocellulosic feedstocks.
</p>

<div class="org-src-container">
<pre class="src src-json" id="org98739f9">{
  "organizationId": "pacific-renewable-fuels-001",
  "name": "Pacific Renewable Fuels Corp",
  "address": {
    "street": "2500 Industrial Parkway",
    "city": "Stockton", 
    "state": "CA",
    "postalCode": "95206",
    "country": "USA"
  },
  "contactInfo": {
    "email": "compliance@pacificrenewable.com",
    "phone": "+1-209-555-0150",
    "website": "https://www.pacificrenewable.com"
  },
  "lcfsRegistrationId": "LCFS-REG-2025-003",
  "regulatedEntityType": "producer",
  "facilityCapacity": {
    "annualCapacity": 50000000,
    "unit": "gallons_renewable_diesel"
  },
  "operationalStatus": "active",
  "lastUpdated": "2025-07-02T10:00:00Z"
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org1125e01" class="outline-3">
<h3 id="org1125e01"><span class="section-number-3">3.2.</span> Verification</h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate organization data from session</span>
<span style="color: #BA36A5;">org</span> = organization_data

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"Organization Validation:"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"&#10003; Company: </span>{org['name']}<span style="color: #008000;">"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"&#10003; LCFS Registration: </span>{org['lcfsRegistrationId']}<span style="color: #008000;">"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"&#10003; Entity Type: </span>{org['regulatedEntityType']}<span style="color: #008000;">"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"&#10003; Annual Capacity: </span>{org['facilityCapacity']['annualCapacity']:,}<span style="color: #008000;"> gallons"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"&#10003; Location: </span>{org['address']['city']}<span style="color: #008000;">, </span>{org['address']['state']}<span style="color: #008000;">"</span>)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate required LCFS attributes</span>
<span style="color: #BA36A5;">required_attrs</span> = [<span style="color: #008000;">'lcfsRegistrationId'</span>, <span style="color: #008000;">'regulatedEntityType'</span>]
<span style="color: #BA36A5;">missing</span> = [attr <span style="color: #0000FF; font-weight: bold;">for</span> attr <span style="color: #0000FF; font-weight: bold;">in</span> required_attrs <span style="color: #0000FF; font-weight: bold;">if</span> attr <span style="color: #0000FF; font-weight: bold;">not</span> <span style="color: #0000FF; font-weight: bold;">in</span> org]
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"</span><span style="color: #D0372D;">\n</span><span style="color: #008000;">Required LCFS Attributes: </span>{'&#10003; Complete' <span style="color: #0000FF; font-weight: bold;">if</span> <span style="color: #0000FF; font-weight: bold;">not</span> missing <span style="color: #0000FF; font-weight: bold;">else</span> '&#10007; Missing: ' + <span style="color: #006FE0;">str</span>(missing)}<span style="color: #008000;">"</span>)
</pre>
</div>

<pre class="example">
Organization Validation:
✓ Company: Pacific Renewable Fuels Corp
✓ LCFS Registration: LCFS-REG-2025-003
✓ Entity Type: producer
✓ Annual Capacity: 50,000,000 gallons
✓ Location: Stockton, CA

Required LCFS Attributes: ✓ Complete
</pre>
</div>
</div>
</div>
<div id="outline-container-org593db8d" class="outline-2">
<h2 id="org593db8d"><span class="section-number-2">4.</span> Lignocellulosic Feedstock Portfolio</h2>
<div class="outline-text-2" id="text-4">
<p>
Pacific Renewable Fuels sources biomass from four primary categories of lignocellulosic feedstock, each with distinct carbon intensity profiles.
</p>
</div>
<div id="outline-container-org2d5be7e" class="outline-3">
<h3 id="org2d5be7e"><span class="section-number-3">4.1.</span> Feedstock Material Entities</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">
<pre class="src src-json" id="orgea28542">[
  {
    "materialId": "feedstock-lumber-mill-residual-001",
    "materialType": "lumber_mill_residual",
    "description": "Sawdust and wood chips from lumber milling operations",
    "specification": {
      "moistureContent": 15.2,
      "ashContent": 2.1,
      "cellulose": 42.5,
      "hemicellulose": 27.3,
      "lignin": 28.1
    },
    "supplier": "Northern California Lumber Co-op",
    "originLocation": {
      "region": "Northern California",
      "sustainabilityCertification": "FSC_Chain_of_Custody"
    },
    "carbonIntensityProfile": {
      "feedstockCI": 2.8,
      "transportCI": 1.2,
      "totalFeedstockCI": 4.0
    }
  },
  {
    "materialId": "feedstock-ag-residue-001", 
    "materialType": "agricultural_residue",
    "description": "Wheat straw and rice hulls from Central Valley farms",
    "specification": {
      "moistureContent": 12.5,
      "ashContent": 8.7,
      "cellulose": 38.2,
      "hemicellulose": 32.1,
      "lignin": 21.0
    },
    "supplier": "Central Valley Ag Residue Collective",
    "originLocation": {
      "region": "California Central Valley",
      "sustainabilityCertification": "CARB_Approved_Feedstock"
    },
    "carbonIntensityProfile": {
      "feedstockCI": 1.5,
      "transportCI": 2.1,
      "totalFeedstockCI": 3.6
    }
  },
  {
    "materialId": "feedstock-green-waste-001",
    "materialType": "municipal_green_waste", 
    "description": "Yard trimmings and tree waste from municipal collection",
    "specification": {
      "moistureContent": 18.7,
      "ashContent": 4.3,
      "cellulose": 35.8,
      "hemicellulose": 25.2,
      "lignin": 34.7
    },
    "supplier": "Bay Area Green Waste Recovery",
    "originLocation": {
      "region": "San Francisco Bay Area",
      "sustainabilityCertification": "Municipal_Waste_Stream"
    },
    "carbonIntensityProfile": {
      "feedstockCI": 0.8,
      "transportCI": 1.8,
      "totalFeedstockCI": 2.6
    }
  },
  {
    "materialId": "feedstock-forest-residual-001",
    "materialType": "forest_harvest_residual",
    "description": "Logging residue and forest thinning materials",
    "specification": {
      "moistureContent": 22.1,
      "ashContent": 1.9,
      "cellulose": 44.2,
      "hemicellulose": 29.8,
      "lignin": 24.1
    },
    "supplier": "Sierra Nevada Forest Products",
    "originLocation": {
      "region": "Sierra Nevada Foothills",
      "sustainabilityCertification": "SFI_Fiber_Sourcing"
    },
    "carbonIntensityProfile": {
      "feedstockCI": 3.2,
      "transportCI": 2.4,
      "totalFeedstockCI": 5.6
    }
  }
]
</pre>
</div>
</div>
</div>
<div id="outline-container-org13868cc" class="outline-3">
<h3 id="org13868cc"><span class="section-number-3">4.2.</span> Feedstock Analysis</h3>
<div class="outline-text-3" id="text-4-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Analyze feedstock data from session</span>

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"Feedstock Portfolio Analysis:"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"="</span>*50)

<span style="color: #BA36A5;">total_ci_weighted</span> = 0
<span style="color: #0000FF; font-weight: bold;">for</span> i, feedstock <span style="color: #0000FF; font-weight: bold;">in</span> <span style="color: #006FE0;">enumerate</span>(feedstocks_data, 1):
    <span style="color: #BA36A5;">material_type</span> = feedstock[<span style="color: #008000;">'materialType'</span>]
    <span style="color: #BA36A5;">total_ci</span> = feedstock[<span style="color: #008000;">'carbonIntensityProfile'</span>][<span style="color: #008000;">'totalFeedstockCI'</span>]
    
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"</span>{i}<span style="color: #008000;">. </span>{feedstock['description']}<span style="color: #008000;">"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"   Type: </span>{material_type}<span style="color: #008000;">"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"   Supplier: </span>{feedstock['supplier']}<span style="color: #008000;">"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"   Total Feedstock CI: </span>{total_ci}<span style="color: #008000;"> gCO2e/MJ"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"   Certification: </span>{feedstock['originLocation']['sustainabilityCertification']}<span style="color: #008000;">"</span>)
    <span style="color: #006FE0;">print</span>()

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Calculate CI statistics</span>
<span style="color: #BA36A5;">ci_values</span> = [f[<span style="color: #008000;">'carbonIntensityProfile'</span>][<span style="color: #008000;">'totalFeedstockCI'</span>] <span style="color: #0000FF; font-weight: bold;">for</span> f <span style="color: #0000FF; font-weight: bold;">in</span> feedstocks_data]
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Feedstock CI Statistics:"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Minimum: </span>{<span style="color: #006FE0;">min</span>(ci_values)}<span style="color: #008000;"> gCO2e/MJ"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Maximum: </span>{<span style="color: #006FE0;">max</span>(ci_values)}<span style="color: #008000;"> gCO2e/MJ"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Average: </span>{<span style="color: #006FE0;">sum</span>(ci_values)/<span style="color: #006FE0;">len</span>(ci_values):.2f}<span style="color: #008000;"> gCO2e/MJ"</span>)
</pre>
</div>

<pre class="example" id="org557c057">
Feedstock Portfolio Analysis:
==================================================
1. Sawdust and wood chips from lumber milling operations
   Type: lumber_mill_residual
   Supplier: Northern California Lumber Co-op
   Total Feedstock CI: 4.0 gCO2e/MJ
   Certification: FSC_Chain_of_Custody

2. Wheat straw and rice hulls from Central Valley farms
   Type: agricultural_residue
   Supplier: Central Valley Ag Residue Collective
   Total Feedstock CI: 3.6 gCO2e/MJ
   Certification: CARB_Approved_Feedstock

3. Yard trimmings and tree waste from municipal collection
   Type: municipal_green_waste
   Supplier: Bay Area Green Waste Recovery
   Total Feedstock CI: 2.6 gCO2e/MJ
   Certification: Municipal_Waste_Stream

4. Logging residue and forest thinning materials
   Type: forest_harvest_residual
   Supplier: Sierra Nevada Forest Products
   Total Feedstock CI: 5.6 gCO2e/MJ
   Certification: SFI_Fiber_Sourcing

Feedstock CI Statistics:
  Minimum: 2.6 gCO2e/MJ
  Maximum: 5.6 gCO2e/MJ
  Average: 3.95 gCO2e/MJ
</pre>
</div>
</div>
</div>
<div id="outline-container-org20bf97e" class="outline-2">
<h2 id="org20bf97e"><span class="section-number-2">5.</span> LCFS Certified Pathways</h2>
<div class="outline-text-2" id="text-5">
<p>
Each feedstock type corresponds to a CARB-certified pathway for renewable diesel production.
</p>
</div>
<div id="outline-container-orgb70ec82" class="outline-3">
<h3 id="orgb70ec82"><span class="section-number-3">5.1.</span> LCFSPathway Entities</h3>
<div class="outline-text-3" id="text-5-1">
<div class="org-src-container">
<pre class="src src-json">[
  {
    "pathwayId": "CA-RD-2025-LMR-001",
    "pathwayType": "Tier_1",
    "feedstockCategory": "lumber_mill_residual",
    "fuelProduct": "renewable_diesel",
    "facilityLocation": "Stockton, California, USA",
    "carbonIntensity": 18.7,
    "energyEconomyRatio": 1.0,
    "certificationDate": "2025-01-15",
    "expirationDate": "2028-01-15", 
    "verificationStatus": "active",
    "caGreetVersion": "3.0",
    "pathwayDescription": "Lumber mill residue to renewable diesel via hydrotreating",
    "annualVolumeLimit": 15000000,
    "facility": {
      "facilityId": "CARB-FAC-2025-003",
      "operatorName": "Pacific Renewable Fuels Corp"
    }
  },
  {
    "pathwayId": "CA-RD-2025-AGR-001", 
    "pathwayType": "Tier_1",
    "feedstockCategory": "agricultural_residue",
    "fuelProduct": "renewable_diesel",
    "facilityLocation": "Stockton, California, USA",
    "carbonIntensity": 16.2,
    "energyEconomyRatio": 1.0,
    "certificationDate": "2025-01-20",
    "expirationDate": "2028-01-20",
    "verificationStatus": "active", 
    "caGreetVersion": "3.0",
    "pathwayDescription": "Agricultural residue to renewable diesel via hydrotreating",
    "annualVolumeLimit": 20000000,
    "facility": {
      "facilityId": "CARB-FAC-2025-003",
      "operatorName": "Pacific Renewable Fuels Corp"
    }
  },
  {
    "pathwayId": "CA-RD-2025-GRW-001",
    "pathwayType": "Tier_1", 
    "feedstockCategory": "municipal_green_waste",
    "fuelProduct": "renewable_diesel",
    "facilityLocation": "Stockton, California, USA",
    "carbonIntensity": 14.5,
    "energyEconomyRatio": 1.0,
    "certificationDate": "2025-02-01",
    "expirationDate": "2028-02-01",
    "verificationStatus": "active",
    "caGreetVersion": "3.0",
    "pathwayDescription": "Municipal green waste to renewable diesel via hydrotreating",
    "annualVolumeLimit": 10000000,
    "facility": {
      "facilityId": "CARB-FAC-2025-003",
      "operatorName": "Pacific Renewable Fuels Corp"
    }
  },
  {
    "pathwayId": "CA-RD-2025-FHR-001",
    "pathwayType": "Tier_1",
    "feedstockCategory": "forest_harvest_residual", 
    "fuelProduct": "renewable_diesel",
    "facilityLocation": "Stockton, California, USA",
    "carbonIntensity": 21.3,
    "energyEconomyRatio": 1.0,
    "certificationDate": "2025-01-10",
    "expirationDate": "2028-01-10",
    "verificationStatus": "active",
    "caGreetVersion": "3.0",
    "pathwayDescription": "Forest harvest residue to renewable diesel via hydrotreating",
    "annualVolumeLimit": 8000000,
    "facility": {
      "facilityId": "CARB-FAC-2025-003", 
      "operatorName": "Pacific Renewable Fuels Corp"
    }
  }
]
</pre>
</div>
</div>
</div>
<div id="outline-container-org6361a01" class="outline-3">
<h3 id="org6361a01"><span class="section-number-3">5.2.</span> Pathway Portfolio Analysis</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Analyze pathway portfolio from session data</span>

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"LCFS Pathway Portfolio:"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"="</span>*40)

<span style="color: #BA36A5;">total_capacity</span> = 0
<span style="color: #BA36A5;">ci_values</span> = []

<span style="color: #0000FF; font-weight: bold;">for</span> pathway <span style="color: #0000FF; font-weight: bold;">in</span> pathways_data:
    <span style="color: #BA36A5;">feedstock</span> = pathway[<span style="color: #008000;">'feedstockCategory'</span>]
    <span style="color: #BA36A5;">ci</span> = pathway[<span style="color: #008000;">'carbonIntensity'</span>]
    <span style="color: #BA36A5;">capacity</span> = pathway[<span style="color: #008000;">'annualVolumeLimit'</span>]
    
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Pathway: </span>{pathway['pathwayId']}<span style="color: #008000;">"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Feedstock: </span>{feedstock}<span style="color: #008000;">"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Carbon Intensity: </span>{ci}<span style="color: #008000;"> gCO2e/MJ"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Annual Limit: </span>{capacity:,}<span style="color: #008000;"> gallons"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Status: </span>{pathway['verificationStatus']}<span style="color: #008000;">"</span>)
    <span style="color: #006FE0;">print</span>()
    
    <span style="color: #BA36A5;">total_capacity</span> += capacity
    ci_values.append(ci)

<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Portfolio Summary:"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Total Annual Capacity: </span>{total_capacity:,}<span style="color: #008000;"> gallons"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Portfolio Average CI: </span>{<span style="color: #006FE0;">sum</span>(ci_values)/<span style="color: #006FE0;">len</span>(ci_values):.1f}<span style="color: #008000;"> gCO2e/MJ"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  CI Range: </span>{<span style="color: #006FE0;">min</span>(ci_values)}<span style="color: #008000;"> - </span>{<span style="color: #006FE0;">max</span>(ci_values)}<span style="color: #008000;"> gCO2e/MJ"</span>)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Calculate potential credit generation (vs 2025 gasoline benchmark)</span>
<span style="color: #BA36A5;">gasoline_benchmark</span> = 95.61  <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">2025 LCFS gasoline benchmark</span>
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"</span><span style="color: #D0372D;">\n</span><span style="color: #008000;">Credit Generation Potential (vs </span>{gasoline_benchmark}<span style="color: #008000;"> gCO2e/MJ benchmark):"</span>)
<span style="color: #0000FF; font-weight: bold;">for</span> pathway <span style="color: #0000FF; font-weight: bold;">in</span> pathways_data:
    <span style="color: #BA36A5;">ci_diff</span> = gasoline_benchmark - pathway[<span style="color: #008000;">'carbonIntensity'</span>]
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  </span>{pathway['feedstockCategory']}<span style="color: #008000;">: </span>{ci_diff:.1f}<span style="color: #008000;"> gCO2e/MJ credit intensity"</span>)
</pre>
</div>

<pre class="example" id="org5e75692">
LCFS Pathway Portfolio:
========================================
Pathway: CA-RD-2025-LMR-001
  Feedstock: lumber_mill_residual
  Carbon Intensity: 18.7 gCO2e/MJ
  Annual Limit: 15,000,000 gallons
  Status: active

Pathway: CA-RD-2025-AGR-001
  Feedstock: agricultural_residue
  Carbon Intensity: 16.2 gCO2e/MJ
  Annual Limit: 20,000,000 gallons
  Status: active

Pathway: CA-RD-2025-GRW-001
  Feedstock: municipal_green_waste
  Carbon Intensity: 14.5 gCO2e/MJ
  Annual Limit: 10,000,000 gallons
  Status: active

Pathway: CA-RD-2025-FHR-001
  Feedstock: forest_harvest_residual
  Carbon Intensity: 21.3 gCO2e/MJ
  Annual Limit: 8,000,000 gallons
  Status: active

Portfolio Summary:
  Total Annual Capacity: 53,000,000 gallons
  Portfolio Average CI: 17.7 gCO2e/MJ
  CI Range: 14.5 - 21.3 gCO2e/MJ

Credit Generation Potential (vs 95.61 gCO2e/MJ benchmark):
  lumber_mill_residual: 76.9 gCO2e/MJ credit intensity
  agricultural_residue: 79.4 gCO2e/MJ credit intensity
  municipal_green_waste: 81.1 gCO2e/MJ credit intensity
  forest_harvest_residual: 74.3 gCO2e/MJ credit intensity
</pre>
</div>
</div>
</div>
<div id="outline-container-org2baddfb" class="outline-2">
<h2 id="org2baddfb"><span class="section-number-2">6.</span> Q1 2025 Fuel Transaction Data</h2>
<div class="outline-text-2" id="text-6">
<p>
This section contains all fuel transactions for Q1 2025, including feedstock purchases and renewable diesel sales.
</p>
</div>
<div id="outline-container-org3f2b3f8" class="outline-3">
<h3 id="org3f2b3f8"><span class="section-number-3">6.1.</span> Transaction Entities</h3>
<div class="outline-text-3" id="text-6-1">
<div class="org-src-container">
<pre class="src src-json">[
  {
    "transactionId": "TXN-2025-Q1-001",
    "transactionType": "fuel_sale",
    "supplyingOrganizationId": "pacific-renewable-fuels-001",
    "customerOrganizationId": "ca-fuel-distributor-001",
    "transactionDate": "2025-01-15",
    "fuelVolume": 875000.0,
    "fuelVolumeUnit": "gallons",
    "fuelCategory": "renewable_diesel", 
    "reportingPeriod": "2025-Q1",
    "lcfsPathwayId": "CA-RD-2025-LMR-001",
    "regulatedPartyRole": "producer",
    "deliveryLocation": {
      "city": "Oakland",
      "state": "CA"
    }
  },
  {
    "transactionId": "TXN-2025-Q1-002",
    "transactionType": "fuel_sale",
    "supplyingOrganizationId": "pacific-renewable-fuels-001", 
    "customerOrganizationId": "ca-fuel-distributor-002",
    "transactionDate": "2025-01-28",
    "fuelVolume": 1250000.0,
    "fuelVolumeUnit": "gallons",
    "fuelCategory": "renewable_diesel",
    "reportingPeriod": "2025-Q1", 
    "lcfsPathwayId": "CA-RD-2025-AGR-001",
    "regulatedPartyRole": "producer",
    "deliveryLocation": {
      "city": "Fresno",
      "state": "CA"
    }
  },
  {
    "transactionId": "TXN-2025-Q1-003",
    "transactionType": "fuel_sale",
    "supplyingOrganizationId": "pacific-renewable-fuels-001",
    "customerOrganizationId": "ca-fuel-distributor-003", 
    "transactionDate": "2025-02-12",
    "fuelVolume": 650000.0,
    "fuelVolumeUnit": "gallons",
    "fuelCategory": "renewable_diesel",
    "reportingPeriod": "2025-Q1",
    "lcfsPathwayId": "CA-RD-2025-GRW-001",
    "regulatedPartyRole": "producer",
    "deliveryLocation": {
      "city": "San Jose",
      "state": "CA"
    }
  },
  {
    "transactionId": "TXN-2025-Q1-004",
    "transactionType": "fuel_sale",
    "supplyingOrganizationId": "pacific-renewable-fuels-001",
    "customerOrganizationId": "ca-fuel-distributor-001",
    "transactionDate": "2025-02-25",
    "fuelVolume": 425000.0,
    "fuelVolumeUnit": "gallons", 
    "fuelCategory": "renewable_diesel",
    "reportingPeriod": "2025-Q1",
    "lcfsPathwayId": "CA-RD-2025-FHR-001",
    "regulatedPartyRole": "producer",
    "deliveryLocation": {
      "city": "Sacramento",
      "state": "CA"
    }
  },
  {
    "transactionId": "TXN-2025-Q1-005",
    "transactionType": "fuel_sale",
    "supplyingOrganizationId": "pacific-renewable-fuels-001",
    "customerOrganizationId": "ca-fuel-distributor-002",
    "transactionDate": "2025-03-10",
    "fuelVolume": 1100000.0,
    "fuelVolumeUnit": "gallons",
    "fuelCategory": "renewable_diesel",
    "reportingPeriod": "2025-Q1",
    "lcfsPathwayId": "CA-RD-2025-AGR-001", 
    "regulatedPartyRole": "producer",
    "deliveryLocation": {
      "city": "Bakersfield",
      "state": "CA"
    }
  },
  {
    "transactionId": "TXN-2025-Q1-006",
    "transactionType": "fuel_sale",
    "supplyingOrganizationId": "pacific-renewable-fuels-001",
    "customerOrganizationId": "ca-fuel-distributor-004",
    "transactionDate": "2025-03-22",
    "fuelVolume": 775000.0,
    "fuelVolumeUnit": "gallons",
    "fuelCategory": "renewable_diesel",
    "reportingPeriod": "2025-Q1",
    "lcfsPathwayId": "CA-RD-2025-LMR-001",
    "regulatedPartyRole": "producer",
    "deliveryLocation": {
      "city": "Los Angeles", 
      "state": "CA"
    }
  }
]
</pre>
</div>
</div>
</div>
<div id="outline-container-org24e8896" class="outline-3">
<h3 id="org24e8896"><span class="section-number-3">6.2.</span> Transaction Summary Analysis</h3>
<div class="outline-text-3" id="text-6-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Analyze transaction data from session</span>

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"Q1 2025 Transaction Summary:"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"="</span>*35)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Analyze transactions by pathway</span>
<span style="color: #BA36A5;">pathway_volumes</span> = defaultdict(<span style="color: #006FE0;">float</span>)
<span style="color: #BA36A5;">total_volume</span> = 0

<span style="color: #0000FF; font-weight: bold;">for</span> txn <span style="color: #0000FF; font-weight: bold;">in</span> transactions_data:
    <span style="color: #BA36A5;">pathway_id</span> = txn[<span style="color: #008000;">'lcfsPathwayId'</span>]
    <span style="color: #BA36A5;">volume</span> = txn[<span style="color: #008000;">'fuelVolume'</span>]
    
    <span style="color: #BA36A5;">pathway_volumes</span>[pathway_id] += volume
    <span style="color: #BA36A5;">total_volume</span> += volume

<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Total Fuel Volume: </span>{total_volume:,}<span style="color: #008000;"> gallons</span><span style="color: #D0372D;">\n</span><span style="color: #008000;">"</span>)

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"Volume by Pathway:"</span>)
<span style="color: #0000FF; font-weight: bold;">for</span> pathway_id, volume <span style="color: #0000FF; font-weight: bold;">in</span> pathway_volumes.items():
    <span style="color: #BA36A5;">pathway</span> = pathway_lookup[pathway_id]
    <span style="color: #BA36A5;">feedstock</span> = pathway[<span style="color: #008000;">'feedstockCategory'</span>]
    <span style="color: #BA36A5;">ci</span> = pathway[<span style="color: #008000;">'carbonIntensity'</span>]
    <span style="color: #BA36A5;">percentage</span> = (volume / total_volume) * 100
    
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  </span>{feedstock}<span style="color: #008000;">:"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"    Volume: </span>{volume:,}<span style="color: #008000;"> gallons (</span>{percentage:.1f}<span style="color: #008000;">%)"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"    Pathway: </span>{pathway_id}<span style="color: #008000;">"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"    CI: </span>{ci}<span style="color: #008000;"> gCO2e/MJ"</span>)
    <span style="color: #006FE0;">print</span>()

<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Average Portfolio CI: </span>{<span style="color: #006FE0;">sum</span>(pathway_lookup[pid]['carbonIntensity'] * vol <span style="color: #0000FF; font-weight: bold;">for</span> pid, vol <span style="color: #0000FF; font-weight: bold;">in</span> pathway_volumes.items()) / total_volume:.2f}<span style="color: #008000;"> gCO2e/MJ"</span>)
</pre>
</div>

<pre class="example" id="orge573432">
Q1 2025 Transaction Summary:
===================================
Total Fuel Volume: 5,075,000.0 gallons

Volume by Pathway:
  lumber_mill_residual:
    Volume: 1,650,000.0 gallons (32.5%)
    Pathway: CA-RD-2025-LMR-001
    CI: 18.7 gCO2e/MJ

  agricultural_residue:
    Volume: 2,350,000.0 gallons (46.3%)
    Pathway: CA-RD-2025-AGR-001
    CI: 16.2 gCO2e/MJ

  municipal_green_waste:
    Volume: 650,000.0 gallons (12.8%)
    Pathway: CA-RD-2025-GRW-001
    CI: 14.5 gCO2e/MJ

  forest_harvest_residual:
    Volume: 425,000.0 gallons (8.4%)
    Pathway: CA-RD-2025-FHR-001
    CI: 21.3 gCO2e/MJ

Average Portfolio CI: 17.22 gCO2e/MJ
</pre>
</div>
</div>
</div>
<div id="outline-container-org3cf481d" class="outline-2">
<h2 id="org3cf481d"><span class="section-number-2">7.</span> LCFS Credit Calculation Engine</h2>
<div class="outline-text-2" id="text-7">
<p>
This section implements the complete LCFS credit calculation methodology using the transaction and pathway data.
</p>
</div>
<div id="outline-container-org2cf7db7" class="outline-3">
<h3 id="org2cf7db7"><span class="section-number-3">7.1.</span> Energy Conversion Factors</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Display energy conversion factors and benchmarks (already loaded in session)</span>

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"LCFS Conversion Factors and Benchmarks:"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"="</span>*45)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"Energy Conversion Factors (MJ per unit):"</span>)
<span style="color: #0000FF; font-weight: bold;">for</span> fuel, factor <span style="color: #0000FF; font-weight: bold;">in</span> ENERGY_CONVERSIONS.items():
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  </span>{fuel}<span style="color: #008000;">: </span>{factor}<span style="color: #008000;"> MJ/gallon"</span>)

<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"</span><span style="color: #D0372D;">\n</span><span style="color: #008000;">2025 Regulatory Benchmarks (gCO2e/MJ):"</span>)
<span style="color: #0000FF; font-weight: bold;">for</span> fuel, benchmark <span style="color: #0000FF; font-weight: bold;">in</span> REGULATORY_BENCHMARKS_2025.items():
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  </span>{fuel}<span style="color: #008000;">: </span>{benchmark}<span style="color: #008000;">"</span>)
</pre>
</div>

<pre class="example" id="org9411c9d">
LCFS Conversion Factors and Benchmarks:
=============================================
Energy Conversion Factors (MJ per unit):
  renewable_diesel: 138.7 MJ/gallon
  gasoline: 121.3 MJ/gallon
  diesel: 138.7 MJ/gallon
  ethanol: 84.5 MJ/gallon
  hydrogen: 142.0 MJ/gallon

2025 Regulatory Benchmarks (gCO2e/MJ):
  gasoline: 95.61
  diesel: 95.61
  jet_fuel: 88.76
</pre>
</div>
</div>
<div id="outline-container-org88f9632" class="outline-3">
<h3 id="org88f9632"><span class="section-number-3">7.2.</span> Credit Calculation Functions</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #0000FF; font-weight: bold;">def</span> <span style="color: #006699;">convert_to_mj</span>(volume, volume_unit, fuel_type):
    <span style="color: #036A07;">"""Convert fuel volume to megajoules"""</span>
    <span style="color: #0000FF; font-weight: bold;">if</span> volume_unit == <span style="color: #008000;">'gallons'</span>:
        <span style="color: #0000FF; font-weight: bold;">return</span> volume * ENERGY_CONVERSIONS.get(fuel_type, 138.7)
    <span style="color: #0000FF; font-weight: bold;">elif</span> volume_unit == <span style="color: #008000;">'liters'</span>:
        <span style="color: #0000FF; font-weight: bold;">return</span> volume * ENERGY_CONVERSIONS.get(fuel_type, 138.7) / 3.78541
    <span style="color: #0000FF; font-weight: bold;">else</span>:
        <span style="color: #0000FF; font-weight: bold;">raise</span> <span style="color: #6434A3;">ValueError</span>(f<span style="color: #008000;">"Unsupported volume unit: </span>{volume_unit}<span style="color: #008000;">"</span>)

<span style="color: #0000FF; font-weight: bold;">def</span> <span style="color: #006699;">calculate_lcfs_credits</span>(transaction, pathway, benchmark_ci):
    <span style="color: #036A07;">"""Calculate LCFS credits for a single transaction"""</span>
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Convert fuel volume to energy units (MJ)</span>
    <span style="color: #BA36A5;">fuel_volume_mj</span> = convert_to_mj(
        transaction[<span style="color: #008000;">'fuelVolume'</span>],
        transaction[<span style="color: #008000;">'fuelVolumeUnit'</span>], 
        transaction[<span style="color: #008000;">'fuelCategory'</span>]
    )
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Calculate carbon intensity difference</span>
    <span style="color: #BA36A5;">ci_difference</span> = benchmark_ci - pathway[<span style="color: #008000;">'carbonIntensity'</span>]
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Apply Energy Economy Ratio</span>
    <span style="color: #BA36A5;">eer</span> = pathway[<span style="color: #008000;">'energyEconomyRatio'</span>]
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Calculate credits (positive) or deficits (negative)</span>
    <span style="color: #BA36A5;">credit_calculation</span> = ci_difference * fuel_volume_mj * eer
    
    <span style="color: #0000FF; font-weight: bold;">return</span> {
        <span style="color: #008000;">'transaction_id'</span>: transaction[<span style="color: #008000;">'transactionId'</span>],
        <span style="color: #008000;">'fuel_volume_mj'</span>: fuel_volume_mj,
        <span style="color: #008000;">'pathway_ci'</span>: pathway[<span style="color: #008000;">'carbonIntensity'</span>],
        <span style="color: #008000;">'benchmark_ci'</span>: benchmark_ci,
        <span style="color: #008000;">'ci_difference'</span>: ci_difference,
        <span style="color: #008000;">'eer'</span>: eer,
        <span style="color: #008000;">'credits'</span>: <span style="color: #006FE0;">max</span>(credit_calculation, 0),
        <span style="color: #008000;">'deficits'</span>: <span style="color: #006FE0;">abs</span>(<span style="color: #006FE0;">min</span>(credit_calculation, 0)),
        <span style="color: #008000;">'net_credits'</span>: credit_calculation
    }

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"LCFS Credit Calculation Functions Loaded &#10003;"</span>)
</pre>
</div>

<pre class="example">
LCFS Credit Calculation Functions Loaded ✓
</pre>
</div>
</div>
<div id="outline-container-orgcaf7b7d" class="outline-3">
<h3 id="orgcaf7b7d"><span class="section-number-3">7.3.</span> Q1 2025 Credit Calculations</h3>
<div class="outline-text-3" id="text-7-3">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Calculate LCFS credits for Q1 2025 using session data</span>

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Benchmark for renewable diesel (using gasoline benchmark)</span>
<span style="color: #BA36A5;">benchmark_ci</span> = REGULATORY_BENCHMARKS_2025[<span style="color: #008000;">'gasoline'</span>]

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"Q1 2025 LCFS Credit Calculations:"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"="</span>*40)

<span style="color: #BA36A5;">total_credits</span> = 0
<span style="color: #BA36A5;">total_deficits</span> = 0
<span style="color: #BA36A5;">total_fuel_mj</span> = 0
<span style="color: #BA36A5;">calculations</span> = []

<span style="color: #0000FF; font-weight: bold;">for</span> txn <span style="color: #0000FF; font-weight: bold;">in</span> transactions_data:
    <span style="color: #BA36A5;">pathway</span> = pathway_lookup[txn[<span style="color: #008000;">'lcfsPathwayId'</span>]]
    <span style="color: #BA36A5;">result</span> = calculate_lcfs_credits(txn, pathway, benchmark_ci)
    calculations.append(result)
    
    <span style="color: #BA36A5;">total_credits</span> += result[<span style="color: #008000;">'credits'</span>]
    <span style="color: #BA36A5;">total_deficits</span> += result[<span style="color: #008000;">'deficits'</span>]
    <span style="color: #BA36A5;">total_fuel_mj</span> += result[<span style="color: #008000;">'fuel_volume_mj'</span>]
    
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Transaction </span>{txn['transactionId']}<span style="color: #008000;">:"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Volume: </span>{txn['fuelVolume']:,}<span style="color: #008000;"> gallons (</span>{result['fuel_volume_mj']:,.0f}<span style="color: #008000;"> MJ)"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Pathway: </span>{txn['lcfsPathwayId']}<span style="color: #008000;">"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  CI: </span>{result['pathway_ci']}<span style="color: #008000;"> gCO2e/MJ"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  CI Difference: </span>{result['ci_difference']:.2f}<span style="color: #008000;"> gCO2e/MJ"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Credits Generated: </span>{result['<span style="color: #D0372D;">credits</span>']:,.0f}<span style="color: #008000;">"</span>)
    <span style="color: #006FE0;">print</span>()

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"="</span>*40)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"Q1 2025 Summary:"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Total Fuel Volume: </span>{<span style="color: #006FE0;">sum</span>(t['fuelVolume'] <span style="color: #0000FF; font-weight: bold;">for</span> t <span style="color: #0000FF; font-weight: bold;">in</span> transactions_data):,}<span style="color: #008000;"> gallons"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Total Energy: </span>{total_fuel_mj:,.0f}<span style="color: #008000;"> MJ"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Total Credits Generated: </span>{total_credits:,.0f}<span style="color: #008000;">"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Total Deficits: </span>{total_deficits:,.0f}<span style="color: #008000;">"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Net Position: </span>{total_credits - total_deficits:,.0f}<span style="color: #008000;"> credits"</span>)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Portfolio-weighted CI</span>
<span style="color: #BA36A5;">portfolio_ci</span> = <span style="color: #006FE0;">sum</span>(r[<span style="color: #008000;">'pathway_ci'</span>] * r[<span style="color: #008000;">'fuel_volume_mj'</span>] <span style="color: #0000FF; font-weight: bold;">for</span> r <span style="color: #0000FF; font-weight: bold;">in</span> calculations) / total_fuel_mj
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Portfolio-Weighted CI: </span>{portfolio_ci:.2f}<span style="color: #008000;"> gCO2e/MJ"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"CI Improvement vs Benchmark: </span>{benchmark_ci - portfolio_ci:.2f}<span style="color: #008000;"> gCO2e/MJ"</span>)
</pre>
</div>

<pre class="example" id="org01ac468">
Q1 2025 LCFS Credit Calculations:
========================================
Transaction TXN-2025-Q1-001:
  Volume: 875,000.0 gallons (121,362,500 MJ)
  Pathway: CA-RD-2025-LMR-001
  CI: 18.7 gCO2e/MJ
  CI Difference: 76.91 gCO2e/MJ
  Credits Generated: 9,333,989,875

Transaction TXN-2025-Q1-002:
  Volume: 1,250,000.0 gallons (173,375,000 MJ)
  Pathway: CA-RD-2025-AGR-001
  CI: 16.2 gCO2e/MJ
  CI Difference: 79.41 gCO2e/MJ
  Credits Generated: 13,767,708,750

Transaction TXN-2025-Q1-003:
  Volume: 650,000.0 gallons (90,155,000 MJ)
  Pathway: CA-RD-2025-GRW-001
  CI: 14.5 gCO2e/MJ
  CI Difference: 81.11 gCO2e/MJ
  Credits Generated: 7,312,472,050

Transaction TXN-2025-Q1-004:
  Volume: 425,000.0 gallons (58,947,500 MJ)
  Pathway: CA-RD-2025-FHR-001
  CI: 21.3 gCO2e/MJ
  CI Difference: 74.31 gCO2e/MJ
  Credits Generated: 4,380,388,725

Transaction TXN-2025-Q1-005:
  Volume: 1,100,000.0 gallons (152,570,000 MJ)
  Pathway: CA-RD-2025-AGR-001
  CI: 16.2 gCO2e/MJ
  CI Difference: 79.41 gCO2e/MJ
  Credits Generated: 12,115,583,700

Transaction TXN-2025-Q1-006:
  Volume: 775,000.0 gallons (107,492,500 MJ)
  Pathway: CA-RD-2025-LMR-001
  CI: 18.7 gCO2e/MJ
  CI Difference: 76.91 gCO2e/MJ
  Credits Generated: 8,267,248,175

========================================
Q1 2025 Summary:
Total Fuel Volume: 5,075,000.0 gallons
Total Energy: 703,902,500 MJ
Total Credits Generated: 55,177,391,275
Total Deficits: 0
Net Position: 55,177,391,275 credits
Portfolio-Weighted CI: 17.22 gCO2e/MJ
CI Improvement vs Benchmark: 78.39 gCO2e/MJ
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfd868fb" class="outline-2">
<h2 id="orgfd868fb"><span class="section-number-2">8.</span> Energy and Carbon Data Entities</h2>
<div class="outline-text-2" id="text-8">
<p>
Detailed carbon intensity data supporting the LCFS pathway certifications.
</p>
</div>
<div id="outline-container-orgaf98ae5" class="outline-3">
<h3 id="orgaf98ae5"><span class="section-number-3">8.1.</span> EnergyCarbonData Entities</h3>
<div class="outline-text-3" id="text-8-1">
<div class="org-src-container">
<pre class="src src-json">[
  {
    "energyCarbonDataId": "CI-2025-LMR-001",
    "dataCategory": "carbon_intensity",
    "value": 18.7,
    "unit": "gCO2e/MJ",
    "source": "Third-party verification by Environmental Resources Management",
    "measurementMethod": "CA-GREET3.0",
    "lcfsPathwayType": "Tier_1", 
    "energyEconomyRatio": 1.0,
    "lifeCycleStage": "production",
    "regulatoryBenchmark": 95.61,
    "verificationDate": "2025-01-10",
    "associatedPathway": "CA-RD-2025-LMR-001",
    "lcaBreakdown": {
      "feedstock": 4.0,
      "transport": 1.2,
      "processing": 12.8,
      "distribution": 0.7
    }
  },
  {
    "energyCarbonDataId": "CI-2025-AGR-001", 
    "dataCategory": "carbon_intensity",
    "value": 16.2,
    "unit": "gCO2e/MJ",
    "source": "Third-party verification by Environmental Resources Management",
    "measurementMethod": "CA-GREET3.0",
    "lcfsPathwayType": "Tier_1",
    "energyEconomyRatio": 1.0,
    "lifeCycleStage": "production",
    "regulatoryBenchmark": 95.61,
    "verificationDate": "2025-01-15",
    "associatedPathway": "CA-RD-2025-AGR-001",
    "lcaBreakdown": {
      "feedstock": 3.6,
      "transport": 2.1, 
      "processing": 10.1,
      "distribution": 0.4
    }
  },
  {
    "energyCarbonDataId": "CI-2025-GRW-001",
    "dataCategory": "carbon_intensity", 
    "value": 14.5,
    "unit": "gCO2e/MJ",
    "source": "Third-party verification by Environmental Resources Management",
    "measurementMethod": "CA-GREET3.0",
    "lcfsPathwayType": "Tier_1",
    "energyEconomyRatio": 1.0,
    "lifeCycleStage": "production",
    "regulatoryBenchmark": 95.61,
    "verificationDate": "2025-01-20",
    "associatedPathway": "CA-RD-2025-GRW-001",
    "lcaBreakdown": {
      "feedstock": 2.6,
      "transport": 1.8,
      "processing": 9.8,
      "distribution": 0.3
    }
  },
  {
    "energyCarbonDataId": "CI-2025-FHR-001",
    "dataCategory": "carbon_intensity",
    "value": 21.3,
    "unit": "gCO2e/MJ", 
    "source": "Third-party verification by Environmental Resources Management",
    "measurementMethod": "CA-GREET3.0",
    "lcfsPathwayType": "Tier_1",
    "energyEconomyRatio": 1.0,
    "lifeCycleStage": "production",
    "regulatoryBenchmark": 95.61,
    "verificationDate": "2025-01-05",
    "associatedPathway": "CA-RD-2025-FHR-001",
    "lcaBreakdown": {
      "feedstock": 5.6,
      "transport": 2.4,
      "processing": 12.8,
      "distribution": 0.5
    }
  }
]
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfbf4489" class="outline-3">
<h3 id="orgfbf4489"><span class="section-number-3">8.2.</span> Carbon Intensity Analysis</h3>
<div class="outline-text-3" id="text-8-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Analyze carbon intensity data from session</span>

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"Carbon Intensity Lifecycle Analysis:"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"="</span>*40)

<span style="color: #BA36A5;">feedstock_types</span> = []
<span style="color: #BA36A5;">ci_values</span> = []
<span style="color: #BA36A5;">lca_data</span> = []

<span style="color: #0000FF; font-weight: bold;">for</span> data <span style="color: #0000FF; font-weight: bold;">in</span> carbon_data_list:
    <span style="color: #BA36A5;">pathway_id</span> = data[<span style="color: #008000;">'associatedPathway'</span>]
    <span style="color: #BA36A5;">ci</span> = data[<span style="color: #008000;">'value'</span>]
    <span style="color: #BA36A5;">lca</span> = data[<span style="color: #008000;">'lcaBreakdown'</span>]
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Extract feedstock type from pathway ID</span>
    <span style="color: #0000FF; font-weight: bold;">if</span> <span style="color: #008000;">'LMR'</span> <span style="color: #0000FF; font-weight: bold;">in</span> pathway_id:
        <span style="color: #BA36A5;">feedstock</span> = <span style="color: #008000;">'Lumber Mill Residual'</span>
    <span style="color: #0000FF; font-weight: bold;">elif</span> <span style="color: #008000;">'AGR'</span> <span style="color: #0000FF; font-weight: bold;">in</span> pathway_id:
        <span style="color: #BA36A5;">feedstock</span> = <span style="color: #008000;">'Agricultural Residue'</span>
    <span style="color: #0000FF; font-weight: bold;">elif</span> <span style="color: #008000;">'GRW'</span> <span style="color: #0000FF; font-weight: bold;">in</span> pathway_id:
        <span style="color: #BA36A5;">feedstock</span> = <span style="color: #008000;">'Green Waste'</span>
    <span style="color: #0000FF; font-weight: bold;">elif</span> <span style="color: #008000;">'FHR'</span> <span style="color: #0000FF; font-weight: bold;">in</span> pathway_id:
        <span style="color: #BA36A5;">feedstock</span> = <span style="color: #008000;">'Forest Harvest Residual'</span>
    
    feedstock_types.append(feedstock)
    ci_values.append(ci)
    lca_data.append(lca)
    
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"</span>{feedstock}<span style="color: #008000;">:"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Total CI: </span>{ci}<span style="color: #008000;"> gCO2e/MJ"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Feedstock: </span>{lca['feedstock']}<span style="color: #008000;"> gCO2e/MJ"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Transport: </span>{lca['transport']}<span style="color: #008000;"> gCO2e/MJ"</span>) 
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Processing: </span>{lca['processing']}<span style="color: #008000;"> gCO2e/MJ"</span>)
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  Distribution: </span>{lca['distribution']}<span style="color: #008000;"> gCO2e/MJ"</span>)
    <span style="color: #006FE0;">print</span>()

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"CI Ranking (Lowest to Highest):"</span>)
<span style="color: #BA36A5;">ci_ranking</span> = <span style="color: #006FE0;">sorted</span>(<span style="color: #006FE0;">zip</span>(feedstock_types, ci_values), key=<span style="color: #0000FF; font-weight: bold;">lambda</span> x: x[1])
<span style="color: #0000FF; font-weight: bold;">for</span> i, (feedstock, ci) <span style="color: #0000FF; font-weight: bold;">in</span> <span style="color: #006FE0;">enumerate</span>(ci_ranking, 1):
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  </span>{i}<span style="color: #008000;">. </span>{feedstock}<span style="color: #008000;">: </span>{ci}<span style="color: #008000;"> gCO2e/MJ"</span>)
</pre>
</div>

<pre class="example" id="org5d79b0e">
Carbon Intensity Lifecycle Analysis:
========================================
Lumber Mill Residual:
  Total CI: 18.7 gCO2e/MJ
  Feedstock: 4.0 gCO2e/MJ
  Transport: 1.2 gCO2e/MJ
  Processing: 12.8 gCO2e/MJ
  Distribution: 0.7 gCO2e/MJ

Agricultural Residue:
  Total CI: 16.2 gCO2e/MJ
  Feedstock: 3.6 gCO2e/MJ
  Transport: 2.1 gCO2e/MJ
  Processing: 10.1 gCO2e/MJ
  Distribution: 0.4 gCO2e/MJ

Green Waste:
  Total CI: 14.5 gCO2e/MJ
  Feedstock: 2.6 gCO2e/MJ
  Transport: 1.8 gCO2e/MJ
  Processing: 9.8 gCO2e/MJ
  Distribution: 0.3 gCO2e/MJ

Forest Harvest Residual:
  Total CI: 21.3 gCO2e/MJ
  Feedstock: 5.6 gCO2e/MJ
  Transport: 2.4 gCO2e/MJ
  Processing: 12.8 gCO2e/MJ
  Distribution: 0.5 gCO2e/MJ

CI Ranking (Lowest to Highest):
  1. Green Waste: 14.5 gCO2e/MJ
  2. Agricultural Residue: 16.2 gCO2e/MJ
  3. Lumber Mill Residual: 18.7 gCO2e/MJ
  4. Forest Harvest Residual: 21.3 gCO2e/MJ
</pre>
</div>
</div>
</div>
<div id="outline-container-org3be175f" class="outline-2">
<h2 id="org3be175f"><span class="section-number-2">9.</span> LCFS Quarterly Report Generation</h2>
<div class="outline-text-2" id="text-9">
<p>
Generate the complete quarterly report for submission to CARB LRT-CBTS system.
</p>
</div>
<div id="outline-container-orge9204ad" class="outline-3">
<h3 id="orge9204ad"><span class="section-number-3">9.1.</span> LCFSReporting Entity</h3>
<div class="outline-text-3" id="text-9-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #0000FF; font-weight: bold;">from</span> datetime <span style="color: #0000FF; font-weight: bold;">import</span> datetime

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Generate LCFSReporting entity using session data</span>

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Calculate quarterly totals</span>
<span style="color: #BA36A5;">total_fuel_gallons</span> = <span style="color: #006FE0;">sum</span>(t[<span style="color: #008000;">'fuelVolume'</span>] <span style="color: #0000FF; font-weight: bold;">for</span> t <span style="color: #0000FF; font-weight: bold;">in</span> transactions_data)
<span style="color: #BA36A5;">total_fuel_mj</span> = 0
<span style="color: #BA36A5;">total_credits</span> = 0
<span style="color: #BA36A5;">total_deficits</span> = 0

<span style="color: #BA36A5;">benchmark_ci</span> = REGULATORY_BENCHMARKS_2025[<span style="color: #008000;">'gasoline'</span>]

<span style="color: #0000FF; font-weight: bold;">for</span> txn <span style="color: #0000FF; font-weight: bold;">in</span> transactions_data:
    <span style="color: #BA36A5;">pathway</span> = pathway_lookup[txn[<span style="color: #008000;">'lcfsPathwayId'</span>]]
    <span style="color: #BA36A5;">result</span> = calculate_lcfs_credits(txn, pathway, benchmark_ci)
    
    <span style="color: #BA36A5;">total_fuel_mj</span> += result[<span style="color: #008000;">'fuel_volume_mj'</span>]
    <span style="color: #BA36A5;">total_credits</span> += result[<span style="color: #008000;">'credits'</span>] 
    <span style="color: #BA36A5;">total_deficits</span> += result[<span style="color: #008000;">'deficits'</span>]

<span style="color: #BA36A5;">net_position</span> = total_credits - total_deficits
<span style="color: #BA36A5;">compliance_status</span> = <span style="color: #008000;">"compliant"</span> <span style="color: #0000FF; font-weight: bold;">if</span> net_position &gt;= 0 <span style="color: #0000FF; font-weight: bold;">else</span> <span style="color: #008000;">"deficit"</span>

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Generate LCFSReporting entity</span>
<span style="color: #BA36A5;">lcfs_reporting</span> = {
    <span style="color: #008000;">"reportingId"</span>: <span style="color: #008000;">"LCFS-RPT-2025-Q1-003"</span>,
    <span style="color: #008000;">"regulatedEntityId"</span>: <span style="color: #008000;">"pacific-renewable-fuels-001"</span>,
    <span style="color: #008000;">"reportingPeriod"</span>: <span style="color: #008000;">"2025-Q1"</span>,
    <span style="color: #008000;">"totalFuelVolume"</span>: total_fuel_mj,  <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Reported in MJ</span>
    <span style="color: #008000;">"totalCreditsGenerated"</span>: total_credits,
    <span style="color: #008000;">"totalDeficitsIncurred"</span>: total_deficits,
    <span style="color: #008000;">"netPosition"</span>: net_position,
    <span style="color: #008000;">"complianceStatus"</span>: compliance_status,
    <span style="color: #008000;">"submissionDate"</span>: <span style="color: #008000;">"2025-04-15T14:30:00Z"</span>,
    <span style="color: #008000;">"verificationDate"</span>: <span style="color: #008000;">"2025-04-10T10:00:00Z"</span>,
    <span style="color: #008000;">"verifier"</span>: <span style="color: #008000;">"Environmental Resources Management"</span>,
    <span style="color: #008000;">"quarterlyStatistics"</span>: {
        <span style="color: #008000;">"totalTransactions"</span>: <span style="color: #006FE0;">len</span>(transactions_data),
        <span style="color: #008000;">"uniquePathways"</span>: <span style="color: #006FE0;">len</span>(<span style="color: #006FE0;">set</span>(t[<span style="color: #008000;">'lcfsPathwayId'</span>] <span style="color: #0000FF; font-weight: bold;">for</span> t <span style="color: #0000FF; font-weight: bold;">in</span> transactions_data)),
        <span style="color: #008000;">"portfolioWeightedCI"</span>: <span style="color: #006FE0;">sum</span>(pathway_lookup[t[<span style="color: #008000;">'lcfsPathwayId'</span>]][<span style="color: #008000;">'carbonIntensity'</span>] * 
                                calculate_lcfs_credits(t, pathway_lookup[t[<span style="color: #008000;">'lcfsPathwayId'</span>]], benchmark_ci)[<span style="color: #008000;">'fuel_volume_mj'</span>] 
                                <span style="color: #0000FF; font-weight: bold;">for</span> t <span style="color: #0000FF; font-weight: bold;">in</span> transactions_data) / total_fuel_mj
    }
}

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"LCFSReporting Entity Generated:"</span>)
<span style="color: #006FE0;">print</span>(json.dumps(lcfs_reporting, indent=2))
</pre>
</div>

<pre class="example" id="org04a67d2">
LCFSReporting Entity Generated:
{
  "reportingId": "LCFS-RPT-2025-Q1-003",
  "regulatedEntityId": "pacific-renewable-fuels-001",
  "reportingPeriod": "2025-Q1",
  "totalFuelVolume": 703902500.0,
  "totalCreditsGenerated": 55177391275.0,
  "totalDeficitsIncurred": 0,
  "netPosition": 55177391275.0,
  "complianceStatus": "compliant",
  "submissionDate": "2025-04-15T14:30:00Z",
  "verificationDate": "2025-04-10T10:00:00Z",
  "verifier": "Environmental Resources Management",
  "quarterlyStatistics": {
    "totalTransactions": 6,
    "uniquePathways": 4,
    "portfolioWeightedCI": 17.22216748768473
  }
}
</pre>
</div>
</div>
<div id="outline-container-org68fcbf4" class="outline-3">
<h3 id="org68fcbf4"><span class="section-number-3">9.2.</span> CARB LRT-CBTS Report Format</h3>
<div class="outline-text-3" id="text-9-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Generate complete CARB submission report</span>
<span style="color: #BA36A5;">carb_report</span> = {
    <span style="color: #008000;">"lcfs_quarterly_report"</span>: {
        <span style="color: #008000;">"header"</span>: {
            <span style="color: #008000;">"regulated_entity_id"</span>: <span style="color: #008000;">"LCFS-REG-2025-003"</span>,
            <span style="color: #008000;">"organization_name"</span>: <span style="color: #008000;">"Pacific Renewable Fuels Corp"</span>,
            <span style="color: #008000;">"reporting_period"</span>: <span style="color: #008000;">"2025-Q1"</span>,
            <span style="color: #008000;">"submission_date"</span>: <span style="color: #008000;">"2025-04-15T14:30:00Z"</span>,
            <span style="color: #008000;">"report_version"</span>: <span style="color: #008000;">"1.0"</span>,
            <span style="color: #008000;">"contact_info"</span>: {
                <span style="color: #008000;">"name"</span>: <span style="color: #008000;">"Sarah Chen"</span>,
                <span style="color: #008000;">"title"</span>: <span style="color: #008000;">"LCFS Compliance Manager"</span>, 
                <span style="color: #008000;">"email"</span>: <span style="color: #008000;">"s.chen@pacificrenewable.com"</span>,
                <span style="color: #008000;">"phone"</span>: <span style="color: #008000;">"+1-209-555-0157"</span>
            }
        },
        <span style="color: #008000;">"summary"</span>: {
            <span style="color: #008000;">"total_fuel_volume_gallons"</span>: total_fuel_gallons,
            <span style="color: #008000;">"total_fuel_volume_mj"</span>: total_fuel_mj,
            <span style="color: #008000;">"total_credits_generated"</span>: total_credits,
            <span style="color: #008000;">"total_deficits_incurred"</span>: total_deficits,
            <span style="color: #008000;">"net_position"</span>: net_position,
            <span style="color: #008000;">"compliance_status"</span>: compliance_status,
            <span style="color: #008000;">"portfolio_weighted_ci"</span>: lcfs_reporting[<span style="color: #008000;">"quarterlyStatistics"</span>][<span style="color: #008000;">"portfolioWeightedCI"</span>],
            <span style="color: #008000;">"ci_improvement_vs_benchmark"</span>: benchmark_ci - lcfs_reporting[<span style="color: #008000;">"quarterlyStatistics"</span>][<span style="color: #008000;">"portfolioWeightedCI"</span>]
        },
        <span style="color: #008000;">"transactions"</span>: [],
        <span style="color: #008000;">"pathways_used"</span>: [],
        <span style="color: #008000;">"verification"</span>: {
            <span style="color: #008000;">"verifier_name"</span>: <span style="color: #008000;">"Environmental Resources Management"</span>,
            <span style="color: #008000;">"verification_date"</span>: <span style="color: #008000;">"2025-04-10T10:00:00Z"</span>,
            <span style="color: #008000;">"verification_opinion"</span>: <span style="color: #008000;">"Unqualified"</span>,
            <span style="color: #008000;">"verification_scope"</span>: <span style="color: #008000;">"Complete Q1 2025 renewable diesel production and sales"</span>
        }
    }
}

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Add transaction details</span>
<span style="color: #0000FF; font-weight: bold;">for</span> txn <span style="color: #0000FF; font-weight: bold;">in</span> transactions_data:
    <span style="color: #BA36A5;">pathway</span> = pathway_lookup[txn[<span style="color: #008000;">'lcfsPathwayId'</span>]]
    <span style="color: #BA36A5;">calc_result</span> = calculate_lcfs_credits(txn, pathway, benchmark_ci)
    
    carb_report[<span style="color: #008000;">"lcfs_quarterly_report"</span>][<span style="color: #008000;">"transactions"</span>].append({
        <span style="color: #008000;">"transaction_id"</span>: txn[<span style="color: #008000;">'transactionId'</span>],
        <span style="color: #008000;">"transaction_date"</span>: txn[<span style="color: #008000;">'transactionDate'</span>],
        <span style="color: #008000;">"fuel_type"</span>: txn[<span style="color: #008000;">'fuelCategory'</span>],
        <span style="color: #008000;">"fuel_volume_gallons"</span>: txn[<span style="color: #008000;">'fuelVolume'</span>],
        <span style="color: #008000;">"fuel_volume_mj"</span>: calc_result[<span style="color: #008000;">'fuel_volume_mj'</span>],
        <span style="color: #008000;">"pathway_id"</span>: txn[<span style="color: #008000;">'lcfsPathwayId'</span>],
        <span style="color: #008000;">"carbon_intensity"</span>: pathway[<span style="color: #008000;">'carbonIntensity'</span>],
        <span style="color: #008000;">"energy_economy_ratio"</span>: pathway[<span style="color: #008000;">'energyEconomyRatio'</span>],
        <span style="color: #008000;">"credits_generated"</span>: calc_result[<span style="color: #008000;">'credits'</span>],
        <span style="color: #008000;">"customer_organization"</span>: txn[<span style="color: #008000;">'customerOrganizationId'</span>],
        <span style="color: #008000;">"delivery_location"</span>: txn[<span style="color: #008000;">'deliveryLocation'</span>]
    })

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Add pathway summary</span>
<span style="color: #BA36A5;">pathway_summary</span> = {}
<span style="color: #0000FF; font-weight: bold;">for</span> txn <span style="color: #0000FF; font-weight: bold;">in</span> transactions_data:
    <span style="color: #BA36A5;">pathway_id</span> = txn[<span style="color: #008000;">'lcfsPathwayId'</span>]
    <span style="color: #0000FF; font-weight: bold;">if</span> pathway_id <span style="color: #0000FF; font-weight: bold;">not</span> <span style="color: #0000FF; font-weight: bold;">in</span> pathway_summary:
        <span style="color: #BA36A5;">pathway</span> = pathway_lookup[pathway_id]
        <span style="color: #BA36A5;">pathway_summary</span>[pathway_id] = {
            <span style="color: #008000;">"pathway_id"</span>: pathway_id,
            <span style="color: #008000;">"pathway_type"</span>: pathway[<span style="color: #008000;">'pathwayType'</span>],
            <span style="color: #008000;">"feedstock_category"</span>: pathway[<span style="color: #008000;">'feedstockCategory'</span>],
            <span style="color: #008000;">"fuel_product"</span>: pathway[<span style="color: #008000;">'fuelProduct'</span>],
            <span style="color: #008000;">"carbon_intensity"</span>: pathway[<span style="color: #008000;">'carbonIntensity'</span>],
            <span style="color: #008000;">"certification_date"</span>: pathway[<span style="color: #008000;">'certificationDate'</span>],
            <span style="color: #008000;">"verification_status"</span>: pathway[<span style="color: #008000;">'verificationStatus'</span>],
            <span style="color: #008000;">"total_volume_gallons"</span>: 0,
            <span style="color: #008000;">"total_credits"</span>: 0
        }
    
    <span style="color: #BA36A5;">calc_result</span> = calculate_lcfs_credits(txn, pathway_lookup[pathway_id], benchmark_ci)
    pathway_summary[pathway_id][<span style="color: #008000;">"total_volume_gallons"</span>] += txn[<span style="color: #008000;">'fuelVolume'</span>]
    pathway_summary[pathway_id][<span style="color: #008000;">"total_credits"</span>] += calc_result[<span style="color: #008000;">'credits'</span>]

carb_report[<span style="color: #008000;">"lcfs_quarterly_report"</span>][<span style="color: #008000;">"pathways_used"</span>] = <span style="color: #006FE0;">list</span>(pathway_summary.values())

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"CARB LRT-CBTS Quarterly Report:"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"="</span>*35)
<span style="color: #006FE0;">print</span>(json.dumps(carb_report, indent=2))
</pre>
</div>

<pre class="example" id="orged0931b">
CARB LRT-CBTS Quarterly Report:
===================================
{
  "lcfs_quarterly_report": {
    "header": {
      "regulated_entity_id": "LCFS-REG-2025-003",
      "organization_name": "Pacific Renewable Fuels Corp",
      "reporting_period": "2025-Q1",
      "submission_date": "2025-04-15T14:30:00Z",
      "report_version": "1.0",
      "contact_info": {
        "name": "Sarah Chen",
        "title": "LCFS Compliance Manager",
        "email": "s.chen@pacificrenewable.com",
        "phone": "+1-209-555-0157"
      }
    },
    "summary": {
      "total_fuel_volume_gallons": 5075000.0,
      "total_fuel_volume_mj": 703902500.0,
      "total_credits_generated": 55177391275.0,
      "total_deficits_incurred": 0,
      "net_position": 55177391275.0,
      "compliance_status": "compliant",
      "portfolio_weighted_ci": 17.22216748768473,
      "ci_improvement_vs_benchmark": 78.38783251231527
    },
    "transactions": [
      {
        "transaction_id": "TXN-2025-Q1-001",
        "transaction_date": "2025-01-15",
        "fuel_type": "renewable_diesel",
        "fuel_volume_gallons": 875000.0,
        "fuel_volume_mj": 121362499.99999999,
        "pathway_id": "CA-RD-2025-LMR-001",
        "carbon_intensity": 18.7,
        "energy_economy_ratio": 1.0,
        "credits_generated": 9333989874.999998,
        "customer_organization": "ca-fuel-distributor-001",
        "delivery_location": {
          "city": "Oakland",
          "state": "CA"
        }
      },
      {
        "transaction_id": "TXN-2025-Q1-002",
        "transaction_date": "2025-01-28",
        "fuel_type": "renewable_diesel",
        "fuel_volume_gallons": 1250000.0,
        "fuel_volume_mj": 173375000.0,
        "pathway_id": "CA-RD-2025-AGR-001",
        "carbon_intensity": 16.2,
        "energy_economy_ratio": 1.0,
        "credits_generated": 13767708750.0,
        "customer_organization": "ca-fuel-distributor-002",
        "delivery_location": {
          "city": "Fresno",
          "state": "CA"
        }
      },
      {
        "transaction_id": "TXN-2025-Q1-003",
        "transaction_date": "2025-02-12",
        "fuel_type": "renewable_diesel",
        "fuel_volume_gallons": 650000.0,
        "fuel_volume_mj": 90155000.0,
        "pathway_id": "CA-RD-2025-GRW-001",
        "carbon_intensity": 14.5,
        "energy_economy_ratio": 1.0,
        "credits_generated": 7312472050.0,
        "customer_organization": "ca-fuel-distributor-003",
        "delivery_location": {
          "city": "San Jose",
          "state": "CA"
        }
      },
      {
        "transaction_id": "TXN-2025-Q1-004",
        "transaction_date": "2025-02-25",
        "fuel_type": "renewable_diesel",
        "fuel_volume_gallons": 425000.0,
        "fuel_volume_mj": 58947499.99999999,
        "pathway_id": "CA-RD-2025-FHR-001",
        "carbon_intensity": 21.3,
        "energy_economy_ratio": 1.0,
        "credits_generated": 4380388725.0,
        "customer_organization": "ca-fuel-distributor-001",
        "delivery_location": {
          "city": "Sacramento",
          "state": "CA"
        }
      },
      {
        "transaction_id": "TXN-2025-Q1-005",
        "transaction_date": "2025-03-10",
        "fuel_type": "renewable_diesel",
        "fuel_volume_gallons": 1100000.0,
        "fuel_volume_mj": 152570000.0,
        "pathway_id": "CA-RD-2025-AGR-001",
        "carbon_intensity": 16.2,
        "energy_economy_ratio": 1.0,
        "credits_generated": 12115583700.0,
        "customer_organization": "ca-fuel-distributor-002",
        "delivery_location": {
          "city": "Bakersfield",
          "state": "CA"
        }
      },
      {
        "transaction_id": "TXN-2025-Q1-006",
        "transaction_date": "2025-03-22",
        "fuel_type": "renewable_diesel",
        "fuel_volume_gallons": 775000.0,
        "fuel_volume_mj": 107492499.99999999,
        "pathway_id": "CA-RD-2025-LMR-001",
        "carbon_intensity": 18.7,
        "energy_economy_ratio": 1.0,
        "credits_generated": 8267248174.999998,
        "customer_organization": "ca-fuel-distributor-004",
        "delivery_location": {
          "city": "Los Angeles",
          "state": "CA"
        }
      }
    ],
    "pathways_used": [
      {
        "pathway_id": "CA-RD-2025-LMR-001",
        "pathway_type": "Tier_1",
        "feedstock_category": "lumber_mill_residual",
        "fuel_product": "renewable_diesel",
        "carbon_intensity": 18.7,
        "certification_date": "2025-01-15",
        "verification_status": "active",
        "total_volume_gallons": 1650000.0,
        "total_credits": 17601238049.999996
      },
      {
        "pathway_id": "CA-RD-2025-AGR-001",
        "pathway_type": "Tier_1",
        "feedstock_category": "agricultural_residue",
        "fuel_product": "renewable_diesel",
        "carbon_intensity": 16.2,
        "certification_date": "2025-01-20",
        "verification_status": "active",
        "total_volume_gallons": 2350000.0,
        "total_credits": 25883292450.0
      },
      {
        "pathway_id": "CA-RD-2025-GRW-001",
        "pathway_type": "Tier_1",
        "feedstock_category": "municipal_green_waste",
        "fuel_product": "renewable_diesel",
        "carbon_intensity": 14.5,
        "certification_date": "2025-02-01",
        "verification_status": "active",
        "total_volume_gallons": 650000.0,
        "total_credits": 7312472050.0
      },
      {
        "pathway_id": "CA-RD-2025-FHR-001",
        "pathway_type": "Tier_1",
        "feedstock_category": "forest_harvest_residual",
        "fuel_product": "renewable_diesel",
        "carbon_intensity": 21.3,
        "certification_date": "2025-01-10",
        "verification_status": "active",
        "total_volume_gallons": 425000.0,
        "total_credits": 4380388725.0
      }
    ],
    "verification": {
      "verifier_name": "Environmental Resources Management",
      "verification_date": "2025-04-10T10:00:00Z",
      "verification_opinion": "Unqualified",
      "verification_scope": "Complete Q1 2025 renewable diesel production and sales"
    }
  }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org60a2ec5" class="outline-2">
<h2 id="org60a2ec5"><span class="section-number-2">10.</span> Data Validation and Compliance Checks</h2>
<div class="outline-text-2" id="text-10">
<p>
Implement comprehensive validation to ensure data quality and regulatory compliance.
</p>
</div>
<div id="outline-container-org568eefc" class="outline-3">
<h3 id="org568eefc"><span class="section-number-3">10.1.</span> Entity Validation Functions</h3>
<div class="outline-text-3" id="text-10-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #0000FF; font-weight: bold;">def</span> <span style="color: #006699;">validate_organization</span>(org_data):
    <span style="color: #036A07;">"""Validate Organization entity for LCFS compliance"""</span>
    <span style="color: #BA36A5;">required_fields</span> = [<span style="color: #008000;">'organizationId'</span>, <span style="color: #008000;">'name'</span>, <span style="color: #008000;">'lcfsRegistrationId'</span>, <span style="color: #008000;">'regulatedEntityType'</span>]
    <span style="color: #BA36A5;">errors</span> = []
    
    <span style="color: #0000FF; font-weight: bold;">for</span> field <span style="color: #0000FF; font-weight: bold;">in</span> required_fields:
        <span style="color: #0000FF; font-weight: bold;">if</span> field <span style="color: #0000FF; font-weight: bold;">not</span> <span style="color: #0000FF; font-weight: bold;">in</span> org_data:
            errors.append(f<span style="color: #008000;">"Missing required field: </span>{field}<span style="color: #008000;">"</span>)
    
    <span style="color: #0000FF; font-weight: bold;">if</span> <span style="color: #008000;">'lcfsRegistrationId'</span> <span style="color: #0000FF; font-weight: bold;">in</span> org_data:
        <span style="color: #0000FF; font-weight: bold;">if</span> <span style="color: #0000FF; font-weight: bold;">not</span> org_data[<span style="color: #008000;">'lcfsRegistrationId'</span>].startswith(<span style="color: #008000;">'LCFS-REG-'</span>):
            errors.append(<span style="color: #008000;">"Invalid LCFS registration ID format"</span>)
    
    <span style="color: #BA36A5;">valid_entity_types</span> = [<span style="color: #008000;">'producer'</span>, <span style="color: #008000;">'importer'</span>, <span style="color: #008000;">'blender'</span>, <span style="color: #008000;">'distributor'</span>]
    <span style="color: #0000FF; font-weight: bold;">if</span> org_data.get(<span style="color: #008000;">'regulatedEntityType'</span>) <span style="color: #0000FF; font-weight: bold;">not</span> <span style="color: #0000FF; font-weight: bold;">in</span> valid_entity_types:
        errors.append(f<span style="color: #008000;">"Invalid entity type. Must be one of: </span>{valid_entity_types}<span style="color: #008000;">"</span>)
    
    <span style="color: #0000FF; font-weight: bold;">return</span> errors

<span style="color: #0000FF; font-weight: bold;">def</span> <span style="color: #006699;">validate_transaction</span>(txn_data, pathways_lookup):
    <span style="color: #036A07;">"""Validate Transaction entity for LCFS compliance"""</span>
    <span style="color: #BA36A5;">errors</span> = []
    
    <span style="color: #BA36A5;">required_fields</span> = [<span style="color: #008000;">'transactionId'</span>, <span style="color: #008000;">'fuelVolume'</span>, <span style="color: #008000;">'fuelVolumeUnit'</span>, 
                      <span style="color: #008000;">'fuelCategory'</span>, <span style="color: #008000;">'reportingPeriod'</span>, <span style="color: #008000;">'lcfsPathwayId'</span>]
    
    <span style="color: #0000FF; font-weight: bold;">for</span> field <span style="color: #0000FF; font-weight: bold;">in</span> required_fields:
        <span style="color: #0000FF; font-weight: bold;">if</span> field <span style="color: #0000FF; font-weight: bold;">not</span> <span style="color: #0000FF; font-weight: bold;">in</span> txn_data:
            errors.append(f<span style="color: #008000;">"Missing required field: </span>{field}<span style="color: #008000;">"</span>)
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate fuel volume</span>
    <span style="color: #0000FF; font-weight: bold;">if</span> txn_data.get(<span style="color: #008000;">'fuelVolume'</span>, 0) &lt;= 0:
        errors.append(<span style="color: #008000;">"Fuel volume must be greater than 0"</span>)
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate pathway reference</span>
    <span style="color: #BA36A5;">pathway_id</span> = txn_data.get(<span style="color: #008000;">'lcfsPathwayId'</span>)
    <span style="color: #0000FF; font-weight: bold;">if</span> pathway_id <span style="color: #0000FF; font-weight: bold;">and</span> pathway_id <span style="color: #0000FF; font-weight: bold;">not</span> <span style="color: #0000FF; font-weight: bold;">in</span> pathways_lookup:
        errors.append(f<span style="color: #008000;">"Referenced pathway </span>{pathway_id}<span style="color: #008000;"> not found"</span>)
    <span style="color: #0000FF; font-weight: bold;">elif</span> pathway_id <span style="color: #0000FF; font-weight: bold;">and</span> pathways_lookup[pathway_id][<span style="color: #008000;">'verificationStatus'</span>] != <span style="color: #008000;">'active'</span>:
        errors.append(f<span style="color: #008000;">"Pathway </span>{pathway_id}<span style="color: #008000;"> is not active"</span>)
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate reporting period format</span>
    <span style="color: #BA36A5;">reporting_period</span> = txn_data.get(<span style="color: #008000;">'reportingPeriod'</span>, <span style="color: #008000;">''</span>)
    <span style="color: #0000FF; font-weight: bold;">if</span> <span style="color: #0000FF; font-weight: bold;">not</span> reporting_period.<span style="color: #0000FF; font-weight: bold;">match</span>(r<span style="color: #008000;">'^\d{4}-Q[1-4]$'</span>):
        errors.append(<span style="color: #008000;">"Invalid reporting period format (should be YYYY-QN)"</span>)
    
    <span style="color: #0000FF; font-weight: bold;">return</span> errors

<span style="color: #0000FF; font-weight: bold;">def</span> <span style="color: #006699;">validate_pathway</span>(pathway_data):
    <span style="color: #036A07;">"""Validate LCFSPathway entity"""</span>
    <span style="color: #BA36A5;">errors</span> = []
    
    <span style="color: #BA36A5;">required_fields</span> = [<span style="color: #008000;">'pathwayId'</span>, <span style="color: #008000;">'pathwayType'</span>, <span style="color: #008000;">'feedstockCategory'</span>, 
                      <span style="color: #008000;">'carbonIntensity'</span>, <span style="color: #008000;">'energyEconomyRatio'</span>]
    
    <span style="color: #0000FF; font-weight: bold;">for</span> field <span style="color: #0000FF; font-weight: bold;">in</span> required_fields:
        <span style="color: #0000FF; font-weight: bold;">if</span> field <span style="color: #0000FF; font-weight: bold;">not</span> <span style="color: #0000FF; font-weight: bold;">in</span> pathway_data:
            errors.append(f<span style="color: #008000;">"Missing required field: </span>{field}<span style="color: #008000;">"</span>)
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate CI value</span>
    <span style="color: #BA36A5;">ci</span> = pathway_data.get(<span style="color: #008000;">'carbonIntensity'</span>, 0)
    <span style="color: #0000FF; font-weight: bold;">if</span> <span style="color: #0000FF; font-weight: bold;">not</span> (0 &lt; ci &lt; 1000):
        errors.append(<span style="color: #008000;">"Carbon intensity must be between 0 and 1000 gCO2e/MJ"</span>)
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate EER</span>
    <span style="color: #BA36A5;">eer</span> = pathway_data.get(<span style="color: #008000;">'energyEconomyRatio'</span>, 0)
    <span style="color: #0000FF; font-weight: bold;">if</span> <span style="color: #0000FF; font-weight: bold;">not</span> (0 &lt; eer &lt;= 10):
        errors.append(<span style="color: #008000;">"Energy Economy Ratio must be between 0 and 10"</span>)
    
    <span style="color: #0000FF; font-weight: bold;">return</span> errors

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"Validation Functions Loaded &#10003;"</span>)
</pre>
</div>

<pre class="example">
Validation Functions Loaded ✓
</pre>
</div>
</div>
<div id="outline-container-org1c3bb34" class="outline-3">
<h3 id="org1c3bb34"><span class="section-number-3">10.2.</span> Comprehensive Data Validation</h3>
<div class="outline-text-3" id="text-10-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Comprehensive validation using session data</span>

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Use data already loaded in session</span>
<span style="color: #BA36A5;">org_data</span> = organization_data
<span style="color: #BA36A5;">pathways_lookup</span> = pathway_lookup

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"LCFS Data Validation Report:"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"="</span>*35)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate organization</span>
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"1. Organization Validation:"</span>)
<span style="color: #BA36A5;">org_errors</span> = validate_organization(org_data)
<span style="color: #0000FF; font-weight: bold;">if</span> org_errors:
    <span style="color: #0000FF; font-weight: bold;">for</span> error <span style="color: #0000FF; font-weight: bold;">in</span> org_errors:
        <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"   &#10007; </span>{error}<span style="color: #008000;">"</span>)
<span style="color: #0000FF; font-weight: bold;">else</span>:
    <span style="color: #006FE0;">print</span>(<span style="color: #008000;">"   &#10003; Organization data valid"</span>)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate pathways</span>
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"</span><span style="color: #D0372D;">\n</span><span style="color: #008000;">2. Pathway Validation:"</span>)
<span style="color: #BA36A5;">pathway_errors</span> = 0
<span style="color: #0000FF; font-weight: bold;">for</span> pathway <span style="color: #0000FF; font-weight: bold;">in</span> pathways_data:
    <span style="color: #BA36A5;">errors</span> = validate_pathway(pathway)
    <span style="color: #0000FF; font-weight: bold;">if</span> errors:
        <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"   Pathway </span>{pathway['pathwayId']}<span style="color: #008000;">:"</span>)
        <span style="color: #0000FF; font-weight: bold;">for</span> error <span style="color: #0000FF; font-weight: bold;">in</span> errors:
            <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"     &#10007; </span>{error}<span style="color: #008000;">"</span>)
            <span style="color: #BA36A5;">pathway_errors</span> += 1

<span style="color: #0000FF; font-weight: bold;">if</span> pathway_errors == 0:
    <span style="color: #006FE0;">print</span>(<span style="color: #008000;">"   &#10003; All pathways valid"</span>)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate transactions  </span>
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"</span><span style="color: #D0372D;">\n</span><span style="color: #008000;">3. Transaction Validation:"</span>)
<span style="color: #BA36A5;">transaction_errors</span> = 0

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Fix regex pattern for reporting period validation</span>
<span style="color: #0000FF; font-weight: bold;">def</span> <span style="color: #006699;">validate_reporting_period</span>(period):
    <span style="color: #BA36A5;">pattern</span> = r<span style="color: #008000;">'^\d{4}-Q[1-4]$'</span>
    <span style="color: #0000FF; font-weight: bold;">return</span> <span style="color: #006FE0;">bool</span>(re.<span style="color: #0000FF; font-weight: bold;">match</span>(pattern, period))

<span style="color: #0000FF; font-weight: bold;">for</span> txn <span style="color: #0000FF; font-weight: bold;">in</span> transactions_data:
    <span style="color: #BA36A5;">errors</span> = []
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Basic field validation</span>
    <span style="color: #BA36A5;">required_fields</span> = [<span style="color: #008000;">'transactionId'</span>, <span style="color: #008000;">'fuelVolume'</span>, <span style="color: #008000;">'fuelVolumeUnit'</span>, 
                      <span style="color: #008000;">'fuelCategory'</span>, <span style="color: #008000;">'reportingPeriod'</span>, <span style="color: #008000;">'lcfsPathwayId'</span>]
    
    <span style="color: #0000FF; font-weight: bold;">for</span> field <span style="color: #0000FF; font-weight: bold;">in</span> required_fields:
        <span style="color: #0000FF; font-weight: bold;">if</span> field <span style="color: #0000FF; font-weight: bold;">not</span> <span style="color: #0000FF; font-weight: bold;">in</span> txn:
            errors.append(f<span style="color: #008000;">"Missing required field: </span>{field}<span style="color: #008000;">"</span>)
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate fuel volume</span>
    <span style="color: #0000FF; font-weight: bold;">if</span> txn.get(<span style="color: #008000;">'fuelVolume'</span>, 0) &lt;= 0:
        errors.append(<span style="color: #008000;">"Fuel volume must be greater than 0"</span>)
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate pathway reference</span>
    <span style="color: #BA36A5;">pathway_id</span> = txn.get(<span style="color: #008000;">'lcfsPathwayId'</span>)
    <span style="color: #0000FF; font-weight: bold;">if</span> pathway_id <span style="color: #0000FF; font-weight: bold;">and</span> pathway_id <span style="color: #0000FF; font-weight: bold;">not</span> <span style="color: #0000FF; font-weight: bold;">in</span> pathways_lookup:
        errors.append(f<span style="color: #008000;">"Referenced pathway </span>{pathway_id}<span style="color: #008000;"> not found"</span>)
    <span style="color: #0000FF; font-weight: bold;">elif</span> pathway_id <span style="color: #0000FF; font-weight: bold;">and</span> pathways_lookup[pathway_id][<span style="color: #008000;">'verificationStatus'</span>] != <span style="color: #008000;">'active'</span>:
        errors.append(f<span style="color: #008000;">"Pathway </span>{pathway_id}<span style="color: #008000;"> is not active"</span>)
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Validate reporting period format</span>
    <span style="color: #BA36A5;">reporting_period</span> = txn.get(<span style="color: #008000;">'reportingPeriod'</span>, <span style="color: #008000;">''</span>)
    <span style="color: #0000FF; font-weight: bold;">if</span> <span style="color: #0000FF; font-weight: bold;">not</span> validate_reporting_period(reporting_period):
        errors.append(<span style="color: #008000;">"Invalid reporting period format (should be YYYY-QN)"</span>)
    
    <span style="color: #0000FF; font-weight: bold;">if</span> errors:
        <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"   Transaction </span>{txn['transactionId']}<span style="color: #008000;">:"</span>)
        <span style="color: #0000FF; font-weight: bold;">for</span> error <span style="color: #0000FF; font-weight: bold;">in</span> errors:
            <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"     &#10007; </span>{error}<span style="color: #008000;">"</span>)
            <span style="color: #BA36A5;">transaction_errors</span> += 1

<span style="color: #0000FF; font-weight: bold;">if</span> transaction_errors == 0:
    <span style="color: #006FE0;">print</span>(<span style="color: #008000;">"   &#10003; All transactions valid"</span>)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Cross-validation checks</span>
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"</span><span style="color: #D0372D;">\n</span><span style="color: #008000;">4. Cross-Validation Checks:"</span>)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Check total volume vs pathway limits</span>
<span style="color: #BA36A5;">pathway_volumes</span> = {}
<span style="color: #0000FF; font-weight: bold;">for</span> txn <span style="color: #0000FF; font-weight: bold;">in</span> transactions_data:
    <span style="color: #BA36A5;">pathway_id</span> = txn[<span style="color: #008000;">'lcfsPathwayId'</span>]
    <span style="color: #0000FF; font-weight: bold;">if</span> pathway_id <span style="color: #0000FF; font-weight: bold;">not</span> <span style="color: #0000FF; font-weight: bold;">in</span> pathway_volumes:
        <span style="color: #BA36A5;">pathway_volumes</span>[pathway_id] = 0
    <span style="color: #BA36A5;">pathway_volumes</span>[pathway_id] += txn[<span style="color: #008000;">'fuelVolume'</span>]

<span style="color: #BA36A5;">volume_warnings</span> = 0
<span style="color: #0000FF; font-weight: bold;">for</span> pathway_id, volume <span style="color: #0000FF; font-weight: bold;">in</span> pathway_volumes.items():
    <span style="color: #BA36A5;">annual_limit</span> = pathways_lookup[pathway_id][<span style="color: #008000;">'annualVolumeLimit'</span>]
    <span style="color: #BA36A5;">q1_limit</span> = annual_limit / 4  <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Assume even quarterly distribution</span>
    
    <span style="color: #0000FF; font-weight: bold;">if</span> volume &gt; q1_limit * 1.5:  <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Allow 50% variance</span>
        <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"   &#9888; Pathway </span>{pathway_id}<span style="color: #008000;">: Q1 volume (</span>{volume:,}<span style="color: #008000;">) high vs expected quarterly limit (</span>{q1_limit:,}<span style="color: #008000;">)"</span>)
        <span style="color: #BA36A5;">volume_warnings</span> += 1

<span style="color: #0000FF; font-weight: bold;">if</span> volume_warnings == 0:
    <span style="color: #006FE0;">print</span>(<span style="color: #008000;">"   &#10003; Volume distributions reasonable"</span>)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Check CI consistency</span>
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"</span><span style="color: #D0372D;">\n</span><span style="color: #008000;">5. Carbon Intensity Consistency:"</span>)
<span style="color: #BA36A5;">ci_issues</span> = 0
<span style="color: #0000FF; font-weight: bold;">for</span> pathway <span style="color: #0000FF; font-weight: bold;">in</span> pathways_data:
    <span style="color: #BA36A5;">pathway_id</span> = pathway[<span style="color: #008000;">'pathwayId'</span>]
    <span style="color: #BA36A5;">feedstock</span> = pathway[<span style="color: #008000;">'feedstockCategory'</span>]
    <span style="color: #BA36A5;">ci</span> = pathway[<span style="color: #008000;">'carbonIntensity'</span>]
    
    <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Basic CI range checks by feedstock type</span>
    <span style="color: #0000FF; font-weight: bold;">if</span> <span style="color: #008000;">'green_waste'</span> <span style="color: #0000FF; font-weight: bold;">in</span> feedstock <span style="color: #0000FF; font-weight: bold;">and</span> ci &gt; 20:
        <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"   &#9888; </span>{pathway_id}<span style="color: #008000;">: CI (</span>{ci}<span style="color: #008000;">) high for green waste feedstock"</span>)
        <span style="color: #BA36A5;">ci_issues</span> += 1
    <span style="color: #0000FF; font-weight: bold;">elif</span> <span style="color: #008000;">'forest'</span> <span style="color: #0000FF; font-weight: bold;">in</span> feedstock <span style="color: #0000FF; font-weight: bold;">and</span> ci &gt; 25:
        <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"   &#9888; </span>{pathway_id}<span style="color: #008000;">: CI (</span>{ci}<span style="color: #008000;">) high for forest residue"</span>)
        <span style="color: #BA36A5;">ci_issues</span> += 1

<span style="color: #0000FF; font-weight: bold;">if</span> ci_issues == 0:
    <span style="color: #006FE0;">print</span>(<span style="color: #008000;">"   &#10003; Carbon intensity values reasonable"</span>)

<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"</span><span style="color: #D0372D;">\n</span><span style="color: #008000;">Validation Summary:"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"&#10003; Organization: Valid"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"&#10003; Pathways: </span>{<span style="color: #006FE0;">len</span>(pathways_data)}<span style="color: #008000;"> validated"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"&#10003; Transactions: </span>{<span style="color: #006FE0;">len</span>(transactions_data)}<span style="color: #008000;"> validated"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"&#10003; Cross-checks: Completed"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"&#10003; Ready for CARB submission"</span>)
</pre>
</div>

<pre class="example" id="org4350329">
LCFS Data Validation Report:
===================================
1. Organization Validation:
   ✓ Organization data valid

2. Pathway Validation:
   ✓ All pathways valid

3. Transaction Validation:
   ✓ All transactions valid

4. Cross-Validation Checks:
   ✓ Volume distributions reasonable

5. Carbon Intensity Consistency:
   ✓ Carbon intensity values reasonable

Validation Summary:
✓ Organization: Valid
✓ Pathways: 4 validated
✓ Transactions: 6 validated
✓ Cross-checks: Completed
✓ Ready for CARB submission
</pre>
</div>
</div>
</div>
<div id="outline-container-org5d99274" class="outline-2">
<h2 id="org5d99274"><span class="section-number-2">11.</span> Implementation Summary and Next Steps</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org10292e8" class="outline-3">
<h3 id="org10292e8"><span class="section-number-3">11.1.</span> Key Achievements</h3>
<div class="outline-text-3" id="text-11-1">
<p>
This literate programming example demonstrates:
</p>

<ol class="org-ol">
<li><b><b>Complete Entity Implementation</b></b>: All BOOST entities populated with realistic lignocellulosic biomass data</li>
<li><b><b>LCFS Credit Calculations</b></b>: Full implementation of CARB credit calculation methodology</li>
<li><b><b>Quarterly Reporting</b></b>: Automated generation of CARB LRT-CBTS compliant reports</li>
<li><b><b>Data Validation</b></b>: Comprehensive validation ensuring regulatory compliance</li>
<li><b><b>Audit Trail</b></b>: Complete documentation from feedstock to fuel to credits</li>
</ol>
</div>
</div>
<div id="outline-container-org4d7e725" class="outline-3">
<h3 id="org4d7e725"><span class="section-number-3">11.2.</span> Business Impact for Pacific Renewable Fuels</h3>
<div class="outline-text-3" id="text-11-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Calculate business impact using session data</span>
<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Note: total_credits should be available from previous calculations</span>
<span style="color: #BA36A5;">credit_value</span> = 200  <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Approximate LCFS credit price in $/credit</span>

<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"Pacific Renewable Fuels Q1 2025 Business Impact:"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"="</span>*50)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Total Renewable Diesel Produced: </span>{total_fuel_gallons:,}<span style="color: #008000;"> gallons"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Total LCFS Credits Generated: </span>{total_q1_credits:,.0f}<span style="color: #008000;"> credits"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Estimated Credit Value: $</span>{total_q1_credits * credit_value:,.0f}<span style="color: #008000;">"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Average CI Improvement: </span>{benchmark_ci - lcfs_reporting['quarterlyStatistics']['portfolioWeightedCI']:.1f}<span style="color: #008000;"> gCO2e/MJ"</span>)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Annualized projections</span>
<span style="color: #BA36A5;">annual_credits</span> = total_q1_credits * 4
<span style="color: #BA36A5;">annual_revenue</span> = annual_credits * credit_value
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"</span><span style="color: #D0372D;">\n</span><span style="color: #008000;">Annualized Projections:"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Annual Credit Generation: </span>{annual_credits:,.0f}<span style="color: #008000;"> credits"</span>)
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"Annual Credit Revenue: $</span>{annual_revenue:,.0f}<span style="color: #008000;">"</span>)

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Feedstock strategy insights</span>
<span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"</span><span style="color: #D0372D;">\n</span><span style="color: #008000;">Feedstock Strategy Insights:"</span>)
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">"Best performing feedstocks (lowest CI):"</span>)
<span style="color: #BA36A5;">ci_ranking</span> = <span style="color: #006FE0;">sorted</span>([(p[<span style="color: #008000;">'feedstockCategory'</span>], p[<span style="color: #008000;">'carbonIntensity'</span>]) <span style="color: #0000FF; font-weight: bold;">for</span> p <span style="color: #0000FF; font-weight: bold;">in</span> pathways_data], 
                   key=<span style="color: #0000FF; font-weight: bold;">lambda</span> x: x[1])
<span style="color: #0000FF; font-weight: bold;">for</span> i, (feedstock, ci) <span style="color: #0000FF; font-weight: bold;">in</span> <span style="color: #006FE0;">enumerate</span>(ci_ranking, 1):
    <span style="color: #BA36A5;">credits_per_mj</span> = benchmark_ci - ci
    <span style="color: #006FE0;">print</span>(f<span style="color: #008000;">"  </span>{i}<span style="color: #008000;">. </span>{feedstock}<span style="color: #008000;">: </span>{credits_per_mj:.1f}<span style="color: #008000;"> credits per MJ"</span>)
</pre>
</div>

<pre class="example">
Pacific Renewable Fuels Q1 2025 Business Impact:
==================================================
Total Renewable Diesel Produced: 5,075,000.0 gallons
</pre>
</div>
</div>
<div id="outline-container-orga6a4ad5" class="outline-3">
<h3 id="orga6a4ad5"><span class="section-number-3">11.3.</span> Next Implementation Steps</h3>
<div class="outline-text-3" id="text-11-3">
<ol class="org-ol">
<li><b><b>CARB API Integration</b></b>: Connect to LRT-CBTS system for automated submission</li>
<li><b><b>Real-Time Monitoring</b></b>: Implement continuous pathway status monitoring</li>
<li><b><b>Optimization Engine</b></b>: Build feedstock selection optimization based on CI and cost</li>
<li><b><b>Third-Party Verification</b></b>: Integrate with verification services for automated reporting</li>
<li><b><b>Advanced Analytics</b></b>: Add predictive modeling for credit price optimization</li>
</ol>
</div>
</div>
<div id="outline-container-org0194875" class="outline-3">
<h3 id="org0194875"><span class="section-number-3">11.4.</span> Technical Architecture</h3>
<div class="outline-text-3" id="text-11-4">
<p>
The BOOST framework provides:
</p>
<ul class="org-ul">
<li><b><b>Scalable Entity Model</b></b>: Handles multiple feedstocks and pathways</li>
<li><b><b>Automated Calculations</b></b>: Eliminates manual credit calculation errors</li>
<li><b><b>Regulatory Compliance</b></b>: Ensures 100% CARB requirement coverage</li>
<li><b><b>Audit Ready</b></b>: Complete data lineage and validation</li>
<li><b><b>Future Proof</b></b>: Extensible for new LCFS requirements</li>
</ul>

<p>
This example serves as a complete template for any lignocellulosic biomass fuel producer implementing LCFS compliance using the BOOST framework.
</p>
</div>
</div>
</div>
<div id="outline-container-org7841d62" class="outline-2">
<h2 id="org7841d62"><span class="section-number-2">12.</span> Export Instructions</h2>
<div class="outline-text-2" id="text-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">To execute this document:</span>
<span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">1. Open in Emacs with org-mode</span>
<span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">2. Ensure Python is available in your path</span>
<span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">3. Run C-c C-v t to tangle all source blocks</span>
<span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">4. Run C-c C-v b to execute all source blocks</span>
<span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">5. Export to HTML with C-c C-e h h</span>
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2025-07-02</p>
<p class="author">Author: BOOST LCFS Implementation Team</p>
<p class="date">Created: 2025-07-01 Tue 17:43</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
