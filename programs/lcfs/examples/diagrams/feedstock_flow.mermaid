flowchart LR
    %% LCFS Data Flow Through BOOST Entities
    %% Shows how external data flows through BOOST processing to regulatory compliance
    
    subgraph SOURCES["External Data Sources"]
        FS["Feedstock Sourcing Data<br/>4.2M records<br/>Sustainability certifications<br/>Supply chain tracking"]
        CARB["CARB Pathway Database<br/>1.8M records<br/>Certified pathway definitions<br/>Carbon intensity benchmarks"]
        PROD["Production Transaction Data<br/>2.1M records<br/>Fuel volumes & deliveries<br/>Operational metrics"]
        CI["Carbon Intensity Calculations<br/>850K records<br/>CA-GREET 3.0 methodology<br/>Lifecycle assessments"]
    end
    
    subgraph BOOST["BOOST Entity Processing"]
        MAT["Material Entities<br/>Validation & Structuring<br/>Feedstock categorization<br/>Certification mapping"]
        PATH["LCFSPathway Entities<br/>Pathway certification<br/>Regulatory compliance<br/>CI value assignment"]
        TXN["Transaction Entities<br/>Volume tracking<br/>Pathway attribution<br/>Energy calculations"]
        ECD["EnergyCarbonData Entities<br/>CI data validation<br/>Benchmark comparisons<br/>Credit calculations"]
    end
    
    subgraph OUTPUT["Regulatory Compliance"]
        RPT["LCFSReporting Entity<br/>Quarterly aggregation<br/>Portfolio-weighted CI<br/>Credit generation"]
        CARB_SUB["CARB LRT-CBTS Submission<br/>Official compliance filing<br/>55.2B credits generated<br/>Regulatory approval"]
    end
    
    %% Data flow connections with volume indicators
    FS -->|"4.2M records"| MAT
    CARB -->|"1.8M records"| PATH
    PROD -->|"2.1M records"| TXN
    CI -->|"850K records"| ECD
    
    MAT -->|"Structured data"| RPT
    PATH -->|"Certified pathways"| RPT
    TXN -->|"Validated transactions"| RPT
    ECD -->|"CI calculations"| RPT
    
    RPT -->|"Complete compliance package"| CARB_SUB
    
    %% Styling to show data volume and flow
    classDef sourceHigh fill:#e8f5e8,stroke:#2e7d32,stroke-width:4px
    classDef sourceMed fill:#fff3e0,stroke:#f57c00,stroke-width:3px
    classDef sourceLow fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef processing fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    classDef output fill:#fce4ec,stroke:#c2185b,stroke-width:4px
    
    class FS sourceHigh
    class PROD,CARB sourceMed
    class CI sourceLow
    class MAT,PATH,TXN,ECD processing
    class RPT,CARB_SUB output